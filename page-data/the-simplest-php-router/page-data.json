{"componentChunkName":"component---src-templates-post-js","path":"/the-simplest-php-router/","webpackCompilationHash":"","result":{"data":{"markdownRemark":{"html":"<p>I wanted to create the absolute most basic routing code in PHP, so here it is. We will direct ALL traffic to <code class=\"language-text\">index.php</code> and route to the new files from there.</p>\n<h2 id=\"redirect-all-requests-to-indexphp\"><a href=\"#redirect-all-requests-to-indexphp\" aria-label=\"redirect all requests to indexphp permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redirect all requests to index.php</h2>\n<p>In the root of your project, create a <code class=\"language-text\">.htaccess</code> file that will redirect all requests to <code class=\"language-text\">index.php</code>.</p>\n<div class=\"filename\">.htaccess</div>\n<div class=\"gatsby-highlight\" data-language=\"apacheconf\"><pre class=\"language-apacheconf\"><code class=\"language-apacheconf\"><span class=\"token directive-inline property\">RewriteEngine</span> On\n<span class=\"token directive-inline property\">RewriteBase</span> /\n<span class=\"token directive-inline property\">RewriteCond</span> <span class=\"token variable\">%{REQUEST_FILENAME}</span> !-d\n<span class=\"token directive-inline property\">RewriteCond</span> <span class=\"token variable\">%{REQUEST_FILENAME}</span> !-f\n<span class=\"token directive-inline property\">RewriteRule</span><span class=\"token regex\"> ^(.+)$</span> index.php <span class=\"token directive-flags keyword\">[QSA,L]</span></code></pre></div>\n<h2 id=\"create-a-routing-switch\"><a href=\"#create-a-routing-switch\" aria-label=\"create a routing switch permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create a routing switch</h2>\n<p>Get the requested path with <code class=\"language-text\">$_SERVER[&#39;REQUEST_URI&#39;]</code>, and require the page you want to display. I have <code class=\"language-text\">&#39;&#39;</code> and <code class=\"language-text\">&#39;/&#39;</code> for both <em>url.com/</em> and <em>url.com</em>.</p>\n<div class=\"filename\">index.php</div>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token variable\">$request</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'REQUEST_URI'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$request</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token single-quoted-string string\">'/'</span> <span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">require</span> <span class=\"token constant\">__DIR__</span> <span class=\"token punctuation\">.</span> <span class=\"token single-quoted-string string\">'/views/index.php'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token single-quoted-string string\">''</span> <span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">require</span> <span class=\"token constant\">__DIR__</span> <span class=\"token punctuation\">.</span> <span class=\"token single-quoted-string string\">'/views/index.php'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token single-quoted-string string\">'/about'</span> <span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">require</span> <span class=\"token constant\">__DIR__</span> <span class=\"token punctuation\">.</span> <span class=\"token single-quoted-string string\">'/views/about.php'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">require</span> <span class=\"token constant\">__DIR__</span> <span class=\"token punctuation\">.</span> <span class=\"token single-quoted-string string\">'/views/404.php'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<h2 id=\"create-the-views\"><a href=\"#create-the-views\" aria-label=\"create the views permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create the views</h2>\n<p>Create a <code class=\"language-text\">/views</code> directory and place the files.</p>\n<div class=\"filename\">/views/index.php</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Main<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"filename\">/views/about.php</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>About<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"filename\">/views/404.php</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>404<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>That's it!</p>","timeToRead":1,"excerpt":"I wanted to create the absolute most basic routing code in PHP, so here it is. We will direct ALL traffic to  and route to the new filesâ€¦","frontmatter":{"title":"The Simplest PHP Router","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAADQElEQVQ4y9VUWUhUURi+OgQVRPjQS5JalFuKlns6uJVamimilFOkiIZSpImJSi6NObvO3Bl11NwyH3qIMstK57rkWtli5WtEEES9Vm5zz99/rjpexaBXBz7OmXu+/zv/dn6G2TI/JcsxSqOFUeFq+89ydiLYi/YCR8UOoY3AEwsN2j6siFBDCTX81+WKZRvJCsS2q6IDAqG3n19nqDIO7lIYLI4IV5VpyB05TuiAwybRSURiHIMG9quHcu2T8Ft1z9U1+v4R/P4FRf+oTUOAe8TAPPK/4TqF541y3dPE3Hx2+3L4w8y6qJQG7jQaT7Otr6Hp7ido6HwPhtuvoErdC8FhiVBy8x6Y2t+CtuEFGNumlzl3ZkBnHvuMl+VudFltaHkJatMwZOWp+fSMG0uyzAprueIBX1DSSvY6HiJJqVdJ9mUtqVQ/4vMKjNZzyEnPLLcWV3RDfcc7ULKWHhVr2UbF8qhXusYxa2FZx9I+Zw8ijUwFn6NRxNcvmiSl5YOrewDExmfBgYO+EBVzHjy9Q4l/8EkIkZ4hzvu9rAWlbQtN3bNQox8wU8GfmGioa5rkMy7VgLtnMDF3fSTFld2CwBH/4xAZIxNCDA1PAb+gOPDwOgaYZwx/lDi5eGJUKqJvmaI5/kUFfyv0A6SueZIkJOeBm0cgybmiEwwDQ+LB43AIpMquU7LgKfXMzTMILuZUQ+QJGcE9qVT1EHX9MMGwF6hgtbHtDb1tIUSaxHv5SCEsIoXEJmQRLAShIRaWtQPmDqJjL9Aw6SU0LSQ8+iwUlXcRbePovLF1GvPIPRSKoqkfuV9rHqe5AUz8ElZ4qbZpgsciEcwtoSuSCVadBASfIslpBXxD54wVOYsoBqwgNvgBOXuYtf7rK7xW2v6DtoW+eVKoOLYR7T8eQ7Ei2Yph8+gRIBcwRcijebPM4ZlBYeB2CkI687itGSdmwUFTP5xNXUd8RcxpGkYEYwrqDWIRL/uOZxyiCOEiar/lB4INy1RpHks29OYOhBtCiohFxCEi5Lo+b2z23Zs8PTvb0xNNGDvh0MjZ/8d0slsVUpjWBoRognAMe3uIqdFbbCNpZfLYiyaLRDTG1k0pufHZFhnUfwFJo0VBj4s9iwAAAABJRU5ErkJggg==","width":150,"height":150,"src":"/static/6a205741f31dbcc5fd1859f36c999a2d/4148e/php.png","srcSet":"/static/6a205741f31dbcc5fd1859f36c999a2d/4148e/php.png 1x"}}},"slug":"the-simplest-php-router","date":"2018-06-21T00:00:00.000Z","categories":["Code"],"tags":["mvc","php","routes","routing"],"template":"post"},"fields":{"slug":"/the-simplest-php-router/","date":"2018-06-21T00:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/the-simplest-php-router/"}}}