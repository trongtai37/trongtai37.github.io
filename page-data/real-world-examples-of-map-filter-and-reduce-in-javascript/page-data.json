{"componentChunkName":"component---src-templates-post-js","path":"/real-world-examples-of-map-filter-and-reduce-in-javascript/","webpackCompilationHash":"","result":{"data":{"markdownRemark":{"html":"<p>I don't know about you, but it doesn't help me very much to peruse through endless examples of <code class=\"language-text\">foo</code> and <code class=\"language-text\">bar</code> to try to figure out how to use a feature of a programming language. There are some JavaScript/ES6 concepts that are hard to grasp as just standalone snippets without seeing how they work as a piece of a bigger project, so I'm going to cover an example of how I used them in this article.</p>\n<p>Recently, I've been exploring Chicago and visiting various local coffeeshops to write with a gentle, pleasant ambiance, à la J.K. Rowling. After I accidentally visited one I didn't like very much but forgot about, I thought it might be a fun little project to map out all the cafes I write at in a web map.</p>\n<p>On another occasion, I used Google Maps API to <a href=\"/google-maps-apis-for-multiple-locations/\">map out multiple store locations</a> for restaurant concepts at my last job. For this project, I decided to use <a href=\"http://leafletjs.com/\">Leaflet</a>, a JavaScript library for interactive maps.</p>\n<p>Here's the final map project that I created: <a href=\"https://taniarascia.github.io/coffee/\">Cafétography</a></p>\n<p>For this article, you can either create your own web map for something in your own neighborhood or the world that you would like to track, or you can simply view my examples of <code class=\"language-text\">map()</code>, <code class=\"language-text\">filter()</code> and <code class=\"language-text\">reduce()</code>.</p>\n<h4 id=\"prerequisies\"><a href=\"#prerequisies\" aria-label=\"prerequisies permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prerequisies</h4>\n<ul>\n<li>Basic knowlegde of HTML, CSS, and JavaScript. A review of <a href=\"https://www.sitepoint.com/beginners-guide-javascript-variables-and-datatypes/\">JavaScript Variables and Datatypes</a> will have most of the JavaScript knowledge you'd need up to this point.</li>\n</ul>\n<h4 id=\"goals\"><a href=\"#goals\" aria-label=\"goals permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Goals</h4>\n<ul>\n<li>Next goal is to use <code class=\"language-text\">reduce()</code> and <code class=\"language-text\">map()</code> in a real world example (the map) to simplify and make our code more efficient and <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\">DRY</a> (<em><strong>D</strong>on't <strong>R</strong>epeat <strong>Y</strong>ourself</em>). We will use <code class=\"language-text\">reduce()</code> to get the count of coffeeshops per Chicago neighborhood, and we'll use <code class=\"language-text\">map()</code> to pull data from an external JSON feed and show locations on the web map.</li>\n</ul>\n<p>Let's do some problem solving.</p>\n<h2 id=\"setting-up-the-web-map\"><a href=\"#setting-up-the-web-map\" aria-label=\"setting up the web map permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting up the web map</h2>\n<p>Here is an <a href=\"https://codepen.io/taniarascia/pen/brRaVE\">example project on CodePen</a> you can use. All it requires is an html file (<strong>index.html</strong>) with the prerequisite CSS and JavaScript Leaflet files loading in:</p>\n<div class=\"filename\">index.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://unpkg.com/leaflet@1.1.0/dist/leaflet.css<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://unpkg.com/leaflet@1.1.0/dist/leaflet.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>An html <code class=\"language-text\">div</code> with an id of <code class=\"language-text\">map</code>:</p>\n<div class=\"filename\">index.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>map<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Some basic CSS (<strong>style.css</strong>) to display the map:</p>\n<div class=\"filename\">style.css</div>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">#map</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And this JavaScript (<strong>scripts.js</strong>) to load in the map and map data.</p>\n<div class=\"filename\">scripts.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Set the map variable</span>\n<span class=\"token keyword\">const</span> myMap <span class=\"token operator\">=</span> <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token string\">'map'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Load the basemap</span>\n<span class=\"token keyword\">const</span> myBasemap <span class=\"token operator\">=</span> <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">tileLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  maxZoom<span class=\"token punctuation\">:</span> <span class=\"token number\">19</span><span class=\"token punctuation\">,</span>\n  attribution<span class=\"token punctuation\">:</span> <span class=\"token string\">'© &lt;a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap&lt;/a>'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Add basemap to map id</span>\nmyBasemap<span class=\"token punctuation\">.</span><span class=\"token function\">addTo</span><span class=\"token punctuation\">(</span>myMap<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Set view of the map</span>\nmyMap<span class=\"token punctuation\">.</span><span class=\"token function\">setView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">41.939948</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">87.650673</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Once that's all set, here's how your loaded in Leaflet web map will look.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 850px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5da1ac378b1049d49cc61cd5890097b1/1e4b3/Screen-Shot-2017-08-10-at-3.34.59-PM.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.24291497975707%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAADNUlEQVQ4y6XTzW/bdBzH8dADSCANeeKOhsSBXiaN8dBpoAntwA3tL/BhfwIHxBiIIRhiYh2wsWlavAmugLa1SIzSNU2a1GkSPySOn3+OHdtJsywPLalamJ18+CXZYcDEBUtv6WvJfun7k+XE5fdvzSj5lXcEpXBS0zTW0A2WEMKGYcBqqsZWlSqraSqdpymVClsZVy6z1WqVNQyDVXX9pFAqnkiMr+PHTuwjhuxv7/TRbLRwv9NBc7OJ7e3f0ev3Jvfdbo/WRYe2s7OD3d1d7O7tYWt7C81mEwP6jGpYm5R7OvH8Sy/uV23F8kMRtpGPXFuKicPHriHErl+OfU+IVV2OV6pqnNK0OG0YcWacacaruh7fVaoPsqaJO5JUo+CzidnZWcaqSrbrbqCgLA41cXUkG6mR52RHivbrSKosjwz57uh2sTi6LUo08e9JYnxH0/DD+rpLwX2JQ4cOMqKcJYEnwlIyQ0VNQ3TWYXoSLJKFYRZgaRmsyjwWJRk/y/9Ikoa/6Tp+yuen4Osvv8ZIlRRpbOog1trQllbhOQLFSrBJDjVrHZqegmiujV9+iEqTeQwuUnDpUfDtY28yipIi7XsGPI8felYWRF2DY2YQBDn4Do+6swHByuGmMIYoMoUeD84dPcIQRyb9vo8wkId1V6ZQGb7Fo1FL05lH6MvwgxKWhOIEm2w4Pe6/wcNzbzCOlSftHt3Q3xh6jgTbVhA0JNTNNOr6CkVltBoyMoUMFuTyfx/5yNyrjK1L5H7Lge/mhgE9Wp3w081CHr6ZhVVeQSMQUZTXcLMoPbLhY8DDrxxk3JppbnXaaDXLD0K7ELUaauSF+Sjw+WgzlCNLXIpsko0atWy0XCpFC0UxWhSnLYjin78oCn7keTIBj791dL9pCa0/9toYDGx06cfp9Rz0Byq6TQG9sIh+PYc2SWEQLkOt6UjZHjKui4znIV1zsdG6h1slsTMBDxx44RkuOf9J8vqX33HXzyaT185yyRufcddunOGuXvqQu/r1exx3hc7nT3FffP4ud/rcOe7U+QvcB/Pz3OkLX3Fnvvk2+fHFy99/dPHKp5Nf7+E1Q3vyfzbzFPPcE38B8/wTehxOvPwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screen Shot 2017 08 10 at 3 34 59 PM\"\n        title=\"Screen Shot 2017 08 10 at 3 34 59 PM\"\n        src=\"/static/5da1ac378b1049d49cc61cd5890097b1/4d3f1/Screen-Shot-2017-08-10-at-3.34.59-PM.png\"\n        srcset=\"/static/5da1ac378b1049d49cc61cd5890097b1/0cb30/Screen-Shot-2017-08-10-at-3.34.59-PM.png 213w,\n/static/5da1ac378b1049d49cc61cd5890097b1/a67b6/Screen-Shot-2017-08-10-at-3.34.59-PM.png 425w,\n/static/5da1ac378b1049d49cc61cd5890097b1/4d3f1/Screen-Shot-2017-08-10-at-3.34.59-PM.png 850w,\n/static/5da1ac378b1049d49cc61cd5890097b1/bfdc0/Screen-Shot-2017-08-10-at-3.34.59-PM.png 1275w,\n/static/5da1ac378b1049d49cc61cd5890097b1/c9b65/Screen-Shot-2017-08-10-at-3.34.59-PM.png 1700w,\n/static/5da1ac378b1049d49cc61cd5890097b1/1e4b3/Screen-Shot-2017-08-10-at-3.34.59-PM.png 1976w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n      />\n  </a>\n    </span></p>\n<p>Again, you can find and fork a working version of the whole thing <a href=\"https://codepen.io/taniarascia/pen/brRaVE\">right here</a> on CodePen, but you'll have to transfer it to your own server or work on it locally.</p>\n<h2 id=\"adding-location-markers-with-json\"><a href=\"#adding-location-markers-with-json\" aria-label=\"adding location markers with json permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adding location markers with JSON</h2>\n<p>Now I want to start adding locations as markers to the map. I can do that easily by making a bunch of variables with the latitute and longitude, and using the <code class=\"language-text\">addTo()</code> method. Let's say I want to add El Meson, Wormhole, and Ipsento to my map. I'll keep it to three to keep it short and simple. Here's how I would do it to start.</p>\n<div class=\"filename\">scripts.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> elMeson <span class=\"token operator\">=</span> <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">marker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">42.002439</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">87.672339</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addTo</span><span class=\"token punctuation\">(</span>myMap<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> wormhole <span class=\"token operator\">=</span> <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">marker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">41.908415</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">87.674605</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addTo</span><span class=\"token punctuation\">(</span>myMap<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> ipsento <span class=\"token operator\">=</span> <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">marker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">41.918639</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">87.687247</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addTo</span><span class=\"token punctuation\">(</span>myMap<span class=\"token punctuation\">)</span></code></pre></div>\n<p>That doesn't seem too bad - I just have to add a new entry for every new marker. However, it starts to get a little more verbose once I start adding in a popup with more information for each location.</p>\n<div class=\"filename\">scripts.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> elMeson <span class=\"token operator\">=</span> <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">marker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">42.002439</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">87.672339</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">bindPopup</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;h2>El Meson&lt;/h2>\n    &lt;p>&lt;b>Neighborhood:&lt;/b> Rogers Park&lt;/p>\n    &lt;p>&lt;b>Ambiance:&lt;/b> Great!&lt;/p>\n    &lt;p>&lt;b>Flavor:&lt;/b> Great!&lt;/p>\n    &lt;p>&lt;b>Comments:&lt;/b> Great!&lt;/p>\n    </span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">openPopup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">addTo</span><span class=\"token punctuation\">(</span>myMap<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> wormhole <span class=\"token operator\">=</span> <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">marker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">41.908415</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">87.674605</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">bindPopup</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;h2>Wormhole&lt;/h2>\n    &lt;p>&lt;b>Neighborhood:&lt;/b> Wicker Park&lt;/p>\n    &lt;p>&lt;b>Ambiance:&lt;/b> Great!&lt;/p>\n    &lt;p>&lt;b>Flavor:&lt;/b> Great!&lt;/p>\n    &lt;p>&lt;b>Comments:&lt;/b> Great!&lt;/p>\n    </span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">openPopup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">addTo</span><span class=\"token punctuation\">(</span>myMap<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// And so on...</span></code></pre></div>\n<p>This is how it looks with the markers and popups loaded in.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 850px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/20cfddb8d4c22b8e26eca75886dca1a7/bbf52/Screen-Shot-2017-08-10-at-8.03.38-PM.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.92028254288599%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAADMElEQVQ4y6WSyW8bZRiHTSMkhFRphJDohQMqPbVpQJxAlZB64MKtFy51hYT4C0pReikVdVDbUMi4dhf+hlYlbQMogGNn9Tb7PvaMt0m8xk5kJ67ib/zjcxpoKXDikx690qtPj94tEPry0SFx7fePOTn1qaqoZ3VdD1qWGSyXS0HDMIKSrARVVQ1qB6iKEpREcR9ZkoKj/5ppnuV57tyv8/OvBU6dOnPYNSVnu9eGV1lHq9WC522g3e6g0+mg3aqjvbmJJs03m02ab2Nnd3efbreLaq2KZrmERnMT9+7f/zDw+puvMJalGJ2Ki7otDUp6hnh5lXiOQsqeTDhNJiuyTBZNgyQMg0aTLNv2PkuWRWKaThKaOljO5XD97t3TgTFmjFH1pFkupWBKcaJJ8aFlLgyLZnLouslhUlwZrqYXh7M8/xc/ctxT/swJgj+nKLh08+bpwNvH3mNELmE6VJhW5nxLXIVkLaOQX4VuxCFqceTlGOa4LB6LEkV8kSHF/0XTcDkSocKjbzECFzfXi1nYSsKX1Biy7hKdTREblN6TPrZbHmLcGh7yI6GAx8IBVPhIEP4uPH58nMnKVFjVkbcSvsUvoFwU6AJaqFZrdPA76Pe2IZiL+EnkqUB8Jv034QfvTjAyFdZreRTctO9oK3D0NN3waLNN7O0N4A92kTESmOX4p5KRUPwP4cTEScbOZ8ytLZeeTdYvFrKoeBIajQbq9CR8QtDv78BxU5gXOTx8vkLKP4Qn3nmfceyk2ezYKFVSfqnAw3Ek1DZkxGkFKSGFelXBejmL1ewyZvlnwlGldAQvCE+OM6YmaLVqDq67tlew0sSx6C1WUsR0UuTez/NE434j655AMkKCPMgIhFb1HPyAxr05ScJXo7OZGD/BlF2zgmEfu10bO3UNT3oFbPV02qqFfjeHBm233VSx3RCwlrOxYOex4Dj7xN0CYnkHSxUPV27f+Shw5Mgbr0ai4Qu3b0Wi0eg3M+x3ITYcvsZGIlMsO3OJvRW9woanJ9kbVyfZH2YusNPXLrNffD3Fng+F2PNTIfbi9W/ZyavT7MUb4e8/+ezzY4GDd4jy8v9kjPLSH/TXLLcHic6MAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screen Shot 2017 08 10 at 8 03 38 PM\"\n        title=\"Screen Shot 2017 08 10 at 8 03 38 PM\"\n        src=\"/static/20cfddb8d4c22b8e26eca75886dca1a7/4d3f1/Screen-Shot-2017-08-10-at-8.03.38-PM.png\"\n        srcset=\"/static/20cfddb8d4c22b8e26eca75886dca1a7/0cb30/Screen-Shot-2017-08-10-at-8.03.38-PM.png 213w,\n/static/20cfddb8d4c22b8e26eca75886dca1a7/a67b6/Screen-Shot-2017-08-10-at-8.03.38-PM.png 425w,\n/static/20cfddb8d4c22b8e26eca75886dca1a7/4d3f1/Screen-Shot-2017-08-10-at-8.03.38-PM.png 850w,\n/static/20cfddb8d4c22b8e26eca75886dca1a7/bfdc0/Screen-Shot-2017-08-10-at-8.03.38-PM.png 1275w,\n/static/20cfddb8d4c22b8e26eca75886dca1a7/c9b65/Screen-Shot-2017-08-10-at-8.03.38-PM.png 1700w,\n/static/20cfddb8d4c22b8e26eca75886dca1a7/bbf52/Screen-Shot-2017-08-10-at-8.03.38-PM.png 1982w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n      />\n  </a>\n    </span></p>\n<p>Now it can start becoming a pain to add a new one of those for every single coffee shop I come across. It would be much easier to create a JSON file, and loop through that. If you've never used JSON before, I would strongly suggest <a href=\"/how-to-use-json-data-with-php-or-javascript/\">reading this JSON tutorial</a> to learn all about it from scratch and do some practice.</p>\n<p>At this point, I will delete all the marker information from <strong>scripts.js</strong> and make a JSON file with an object containing an array containing objects of all my coffee house locations. It can be a bit tricky to keep track of all the square and curly brackets at first.</p>\n<div class=\"filename\">map.json</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"cafes\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"El Meson\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"lat\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">42.002439</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"long\"</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">87.672339</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"neighborhood\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Rogers Park\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"ambiance\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"4/5\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"flavor\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"5/5\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"comments\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Best cappuccino and croissant I've ever had.\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Wormhole\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"lat\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">41.908415</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"long\"</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">87.674605</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"neighborhood\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Wicker Park\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"ambiance\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"5/5\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"flavor\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"4/5\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"comments\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Cute ambiance with a Nintendo that actually works properly and the best games (including FF1!).\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Ipsento\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"lat\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">41.918639</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"long\"</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">87.687247</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"neighborhood\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Wicker Park\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"ambiance\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"4/5\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"flavor\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"5/5\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"comments\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Really great spicy latte. Nice ambiance.\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Okay, good. Now we have all the information about each location - name, latitude, longitude, neighborhood, and additional details - placed neatly into a JSON file. Now, how do we get that JSON file onto the page?</p>\n<p>We won't be using jQuery - only plain JavaScript - so it's a slightly more involved process. I will refer back to <a href=\"/how-to-use-json-data-with-php-or-javascript/\">How to Use JSON Data with PHP or JavaScript</a> for a further explanation of the code, but here's how we open and access our <strong>map.json</strong> file.</p>\n<div class=\"filename\">scripts.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Make an XMLHttpRequest to the JSON data</span>\n<span class=\"token keyword\">const</span> request <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nrequest<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'map.json'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n\nrequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Begin accessing JSON data here</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nrequest<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Where it says <code class=\"language-text\">Begin accessing JSON data here</code> is where we will begin working with the data from <strong>map.json</strong>, which has been placed in the <code class=\"language-text\">data</code> variable. Make sure <strong>map.json</strong> is not a local file URL. See information below.</p>\n<blockquote>\n<p><strong>Warning!</strong> It's not possible to pull an local JSON file in with <code class=\"language-text\">XMLHttpRequest</code>. In other words, if the full URL starts with <code class=\"language-text\">file://</code> or <code class=\"language-text\">C:/</code>, it will not connect properly. You can either <a href=\"/local-environment/\">set up a local server with MAMP</a>, use <code class=\"language-text\">http-server</code> <a href=\"/how-to-install-and-use-node-js-and-npm-mac-and-windows/\">installed through npm</a>, use <a href=\"/what-are-vagrant-and-virtualbox-and-how-do-i-use-them/\">Vagrant/VirtualBox</a> to run a server, or use an external host.</p>\n</blockquote>\n<h2 id=\"using-map-to-loop-through-json-data\"><a href=\"#using-map-to-loop-through-json-data\" aria-label=\"using map to loop through json data permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using map() to loop through JSON data</h2>\n<p>Previously we were creating a new variable for each marker, and placing all the information manually inside that variable. Now we're going to be pulling all the idata from JSON, and we will do that using <code class=\"language-text\">map()</code>.</p>\n<p><code class=\"language-text\">map()</code> takes an array and creates a new array with the result of a function on each element in the original array. For example, you could create an array of <code class=\"language-text\">[1, 2, 3]</code> and apply a function via <code class=\"language-text\">map()</code> that increases each number in an array by one. You would end up with <code class=\"language-text\">[2, 3, 4]</code>.</p>\n<p>To get the data found inside <code class=\"language-text\">cafes</code> in JSON, we'll use the <code class=\"language-text\">map()</code> method on <code class=\"language-text\">data.cafes</code> with a function inside.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> cafes <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>cafes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cafe</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>I'm just going to rewrite that function with an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\">ES6 arrow function</a> to make it more succinct.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> cafes <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>cafes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cafe</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now in order to access any property from the JSON feed, we'll use the dot notation on the <code class=\"language-text\">cafe</code> object. So the first iteration of <code class=\"language-text\">cafe.name</code> will return <code class=\"language-text\">El Meson</code>, the second one <code class=\"language-text\">Wormhole</code>, and so on. All I'm doing here is taking the same <code class=\"language-text\">L.Marker</code> function from before, and replacing all the static values with dynamic properties.</p>\n<div class=\"filename\">scripts.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Print cafe markers</span>\n<span class=\"token keyword\">const</span> cafes <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>cafes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cafe</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">marker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>cafe<span class=\"token punctuation\">.</span>lat<span class=\"token punctuation\">,</span> cafe<span class=\"token punctuation\">.</span>long<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">bindPopup</span><span class=\"token punctuation\">(</span>\n      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n        &lt;h2></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cafe<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/h2>\n        &lt;p>&lt;b>Neighborhood:&lt;/b> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cafe<span class=\"token punctuation\">.</span>neighborhood<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/p>\n        &lt;p>&lt;b>Ambiance:&lt;/b> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cafe<span class=\"token punctuation\">.</span>ambiance<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/p>\n        &lt;p>&lt;b>Flavor:&lt;/b> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cafe<span class=\"token punctuation\">.</span>flavor<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/p>\n        &lt;p>&lt;b>Comments:&lt;/b> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cafe<span class=\"token punctuation\">.</span>comments<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/p>\n    </span><span class=\"token template-punctuation string\">`</span></span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">openPopup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">addTo</span><span class=\"token punctuation\">(</span>myMap<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>This example is using template literal strings, which use backticks and can span multiple lines as well as include variables with escaping as opposed to concatenation. <a href=\"https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript#long-strings-and-newlines\">Check this out</a> if you're unfamiliar with template literals.</p>\n<p>Here is the full <strong>scripts.js</strong> file up to now.</p>\n<div class=\"filename\">scripts.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Set the map variable</span>\n<span class=\"token keyword\">const</span> myMap <span class=\"token operator\">=</span> <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token string\">'map'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Load the basemap</span>\n<span class=\"token keyword\">const</span> myBasemap <span class=\"token operator\">=</span> <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">tileLayer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  maxZoom<span class=\"token punctuation\">:</span> <span class=\"token number\">19</span><span class=\"token punctuation\">,</span>\n  attribution<span class=\"token punctuation\">:</span> <span class=\"token string\">'© &lt;a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap&lt;/a>'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Add basemap to map id</span>\nmyBasemap<span class=\"token punctuation\">.</span><span class=\"token function\">addTo</span><span class=\"token punctuation\">(</span>myMap<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Set view of the map</span>\nmyMap<span class=\"token punctuation\">.</span><span class=\"token function\">setView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">41.939948</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">87.650673</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Make an XMLHttpRequest to the JSON data</span>\n<span class=\"token keyword\">const</span> request <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nrequest<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'map.json'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\nrequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Begin accessing JSON data here</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Print cafe markers</span>\n  <span class=\"token keyword\">const</span> cafes <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>cafes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cafe</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">L</span><span class=\"token punctuation\">.</span><span class=\"token function\">marker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>cafe<span class=\"token punctuation\">.</span>lat<span class=\"token punctuation\">,</span> cafe<span class=\"token punctuation\">.</span>long<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">bindPopup</span><span class=\"token punctuation\">(</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n          &lt;h2></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cafe<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/h2>\n          &lt;p>&lt;b>Neighborhood:&lt;/b> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cafe<span class=\"token punctuation\">.</span>neighborhood<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/p>\n          &lt;p>&lt;b>Ambiance:&lt;/b> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cafe<span class=\"token punctuation\">.</span>ambiance<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/p>\n          &lt;p>&lt;b>Flavor:&lt;/b> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cafe<span class=\"token punctuation\">.</span>flavor<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/p>\n          &lt;p>&lt;b>Comments:&lt;/b> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cafe<span class=\"token punctuation\">.</span>comments<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/p>\n        </span><span class=\"token template-punctuation string\">`</span></span>\n      <span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">openPopup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">addTo</span><span class=\"token punctuation\">(</span>myMap<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nrequest<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Of course, <code class=\"language-text\">map()</code> is capable of much more than what we're doing in this example, but it's a good and practical start.</p>\n<blockquote>\n<p>This use case of <code class=\"language-text\">map()</code> technically works, but since <code class=\"language-text\">cafes</code> will contain an empty array, <code class=\"language-text\">forEach()</code> would also be a good choice for this situation.</p>\n</blockquote>\n<h2 id=\"using-filter-to-find-matching-values\"><a href=\"#using-filter-to-find-matching-values\" aria-label=\"using filter to find matching values permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using filter() to find matching values</h2>\n<p>At this point, I had a map with all my markers created. There were three cafes in our reduced example, but I ended up with around a dozen. Each cafe was in a neighborhood, and I had a few neighborhoods that had more than one cafe that I had visited. I wanted to make a count of how many cafes I visited in each neighborhood.</p>\n<p>In our example, we have two neighborhoods for the three cafes - one in Rogers Park, and two in Wicker Park. With such a small example, of course it would be very easy to simply write \"Rogers Park: 1; Wicker Park: 2\", but the longer it gets and the more neighborhoods and cafes get added, the more of a need there will be to automate this process.</p>\n<p>We have all the data we need in the JSON file, but I wasn't sure how to succinctly count all the instances. At first, I thought about using <code class=\"language-text\">filter()</code> to find out how many instances of each neighborhood name were found throughout the feed. <code class=\"language-text\">filter()</code> is written similarly to <code class=\"language-text\">map()</code> and it also creates a new array, but its function performs a test and filters out everything that doesn't pass. <code class=\"language-text\">filter()</code> follows the same syntax as <code class=\"language-text\">map()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> individualNeighborhood <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>cafes<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cafe</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Below, I'm making a test for each neighborhood that will filter out all results that don't match my test.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> rogersPark <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>cafes<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cafe</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> cafe<span class=\"token punctuation\">.</span>neighborhood <span class=\"token operator\">===</span> <span class=\"token string\">'Rogers Park'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> wickerPark <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>cafes<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cafe</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> cafe<span class=\"token punctuation\">.</span>neighborhood <span class=\"token operator\">===</span> <span class=\"token string\">'Wicker Park'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Using this method, I would have to make an array of objects linking up the string <code class=\"language-text\">&quot;Rogers Park&quot;</code> to the result of <code class=\"language-text\">rogersPark.length</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> neighborhoodsArray <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Rogers Park'</span><span class=\"token punctuation\">,</span>\n    number<span class=\"token punctuation\">:</span> rogersPark<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Wicker Park'</span><span class=\"token punctuation\">,</span>\n    number<span class=\"token punctuation\">:</span> wickerPark<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>And finally I could loop through those values.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> neighborhood <span class=\"token keyword\">of</span> neighborhoodsArray<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>neighborhood<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> neighborhood<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">for...of</code> is used for iterating through arrays. Here's the output.</p>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">Rogers Park 1\nWicker Park 2</code></pre></div>\n<p>This technically worked, but now I'm doing what I didn't want to do the first time around - repeating myself. So this turned out to be an inefficient use of the <code class=\"language-text\">filter()</code> method, but that's fine. Not everything you write in your learning journey will be perfect, and now we can refactor it.</p>\n<h2 id=\"using-reduce-to-count-instances-of-values-in-an-object\"><a href=\"#using-reduce-to-count-instances-of-values-in-an-object\" aria-label=\"using reduce to count instances of values in an object permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using reduce() to count instances of values in an object</h2>\n<p><code class=\"language-text\">reduce()</code> is written like <code class=\"language-text\">map()</code> and <code class=\"language-text\">filter()</code>, but the inner function will take two parameters. It also has an extra spot at the end where we'll insert an empty object <code class=\"language-text\">{}</code>. This could also be an empty array <code class=\"language-text\">[]</code>, but in our example it will be an object. This extra parameter is the <strong>intial value</strong>, which is <code class=\"language-text\">0</code> by default.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> neighborhoodCount <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>cafes<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">sums<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>I encountered this handy snippet which will create an object containing all our final neighborhood counts.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> neighborhoodCount <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>cafes<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">sums<span class=\"token punctuation\">,</span> cafe</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  sums<span class=\"token punctuation\">[</span>cafe<span class=\"token punctuation\">.</span>neighborhood<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>sums<span class=\"token punctuation\">[</span>cafe<span class=\"token punctuation\">.</span>neighborhood<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">return</span> sums\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now we'll loop through the object we created with <code class=\"language-text\">for...in</code>, which is used for iterating through object keys.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> neighborhood <span class=\"token keyword\">in</span> neighborhoodCount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>neighborhood<span class=\"token punctuation\">,</span> neighborhoodCount<span class=\"token punctuation\">[</span>neighborhood<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And here's the output.</p>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">Rogers Park 1\nWicker Park 2</code></pre></div>\n<p>We got the same result as our inefficient code from before with just a few short lines.</p>\n<p>Once that was finished, I inserted this into the DOM instead of just printing it out to the console. Just added a new id to <strong>index.html</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>neighborhoods<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Then pass the reduced values to the new <code class=\"language-text\">div</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Create a sidebar</span>\n<span class=\"token keyword\">const</span> sidebar <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'neighborhoods'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Print all neighborhoods in sidebar</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> neighborhood <span class=\"token keyword\">in</span> neighborhoodCount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> p <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">)</span>\n\n  p<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;b></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>neighborhood<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/b> : </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>neighborhoodCount<span class=\"token punctuation\">[</span>neighborhood<span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n  sidebar<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>I added some CSS, a coffee cup image as the marker, a different map, and more locations, which I won't go into as they're not the focus of the article. The source for the whole <strong>scripts.js</strong> file that we just created <a href=\"https://github.com/taniarascia/coffee/blob/master/js/scripts.js\">is right here.</a> Below is what the final version looks like.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 850px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d12399233fae8b1d26c63d56710e3766/337cb/Screen-Shot-2017-08-10-at-10.37.30-PM.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAD10lEQVQ4y6WS3W9adRjHSRrjnclSNO2FXuqFmpnFuMS52bUznW1MjNuM07hNEr0w87LqdDOLcV7prtRtbayFwfoKpcABCoVCX4BzDnAO5/x4KwKlpQVqX7Xt1vb8+Hqs/gc+ySfPL3mST755np9G//Vgg8z6zotp4eO5bE6Xy+V05fKSrlAs6iRJ1smyrEsSSUdkSZdUIUTWkUzmkFQ2q5vL53WZQuGTuCie6zP1P6b58NylI/lsovbXw03UalVUq1Vsb2+DUgW7uzuHbO8+ws7D/9jZxc7WJnY2t/Dn2iqWSgvYKpchS3Ll5rWupzSvHHteKwmhYkoKQuTN+3xkSInGbQohHoWNm5WY+u4JpJUf/RXl9uyacmcgqDjePa0wV95S7B+cVcbeb99n3nsDA++0FtqbG5s1LS3PNfK8fT6ZcCAaGabs9L06kUfrsmSvc6KxLnKD9T4fW++yzte/HK/Wb3W76mOdL9VtF16rW98+XmcunqKuCydgaj9abH3i8SbNqbYXtFMhYykSM2N2tpeGQj2I8UbIvAVxcQhx1gzG58cN5wKuORbRHchgI2VBRRxBVZ1Xoia6X7BhRTAWP738pipseVk77futlODtCIUtlIv0gYvfV0UmJDgj+IgBbpsF3znz+Ny+hO5gFrXkCFZyDuzX/Nhb9lJsTGIzZy5e/aizSdPe1qJ1OQ0lOcYgydsoO9OPqGRDPOFFnLchMqWuYsaO3kkOXfZlNWEay6IJ6zk7qCo8WBqn+MOL9fTgv8LWky3aCY+hlCJeyHEXjQcHIIRGIYkT4Fg3wtMe8MFRWAJufMGUcW8yjXJMjwoZgVLxYr/solgZx3pqQBV2NGk6z57RsuHRUlJ0Q4y5qMA5IEaGQSJWNaELAueExDFwz/jVhGXc9adQCPcgz+rxaNGJvUWGoubCWvJB8eoVVdjR0aaNco5SmkxAFr1U5J1ISj4Q1oZE2IpE3AMp6lV/wBi+tcv4ZXIOq7IRpagBu/M27C3YKSoM1ohRFapHOf368UYubC8S0QMuYjsQOIaSxASVJT8VIgyNzY5RgXdTITxMbzOz9Cdfli6zd2gp0kOVBSs9mDcfYGkUG3Jf4bPL7U2akyeOajm2v7pYCiCX8iNHfChmppGb8+H3XBAZIYCsmricnwITZnFrchVGvgQDtwA9O4++cAH9QgU/jwuVM+cvNWuOvfjskV/1N10jYz9kna67stOuJ063hTAOE3G7BojDpmI1qv0BGRo2ke/ve8gNQ5BcNwTIdf0h0jf3p+e+6vW5Xu28qNWo1aDypMozKk//D/5xNPwN6zAJ63tKOekAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Screen Shot 2017 08 10 at 10 37 30 PM\"\n        title=\"Screen Shot 2017 08 10 at 10 37 30 PM\"\n        src=\"/static/d12399233fae8b1d26c63d56710e3766/4d3f1/Screen-Shot-2017-08-10-at-10.37.30-PM.png\"\n        srcset=\"/static/d12399233fae8b1d26c63d56710e3766/0cb30/Screen-Shot-2017-08-10-at-10.37.30-PM.png 213w,\n/static/d12399233fae8b1d26c63d56710e3766/a67b6/Screen-Shot-2017-08-10-at-10.37.30-PM.png 425w,\n/static/d12399233fae8b1d26c63d56710e3766/4d3f1/Screen-Shot-2017-08-10-at-10.37.30-PM.png 850w,\n/static/d12399233fae8b1d26c63d56710e3766/bfdc0/Screen-Shot-2017-08-10-at-10.37.30-PM.png 1275w,\n/static/d12399233fae8b1d26c63d56710e3766/c9b65/Screen-Shot-2017-08-10-at-10.37.30-PM.png 1700w,\n/static/d12399233fae8b1d26c63d56710e3766/337cb/Screen-Shot-2017-08-10-at-10.37.30-PM.png 2030w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n      />\n  </a>\n    </span></p>\n<p>You can <a href=\"https://github.com/taniarascia/coffee\">view the final source for the map here</a>, or <a href=\"https://taniarascia.github.io/coffee/\">view the completed project here</a> if anything was unclear.</p>\n<h2 id=\"a-summary-of-map-filter-and-reduce\"><a href=\"#a-summary-of-map-filter-and-reduce\" aria-label=\"a summary of map filter and reduce permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A summary of map(), filter(), and reduce()`</h2>\n<p>Here's a very brief overview of the differences between <code class=\"language-text\">map()</code>, <code class=\"language-text\">filter()</code>, and <code class=\"language-text\">reduce()</code>, using a very simple array of <code class=\"language-text\">[1, 2, 3, 4]</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> numbers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h3 id=\"map\"><a href=\"#map\" aria-label=\"map permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>map()</h3>\n<p>Use <code class=\"language-text\">map()</code> to get an array with each value incremented by one.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> numbersIncremented <span class=\"token operator\">=</span> numbers<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nnumbersIncremented</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[ 2, 3, 4, 5]</code></pre></div>\n<h3 id=\"filter\"><a href=\"#filter\" aria-label=\"filter permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>filter()</h3>\n<p>Use <code class=\"language-text\">filter()</code> to get an array of available values greater than 2.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> numbersFiltered <span class=\"token operator\">=</span> numbers<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">></span> <span class=\"token number\">2</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nnumbersFiltered</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">[ 3, 4 ]</code></pre></div>\n<h3 id=\"reduce\"><a href=\"#reduce\" aria-label=\"reduce permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>reduce()</h3>\n<p>Use <code class=\"language-text\">reduce()</code> to get the sum of the numbers in the array.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> numbersReduced <span class=\"token operator\">=</span> numbers<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">+</span> y\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nnumbersReduced</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">10</code></pre></div>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>There you have it. A small project with some problem solving that uses <code class=\"language-text\">map()</code>, <code class=\"language-text\">filter()</code>, and <code class=\"language-text\">reduce()</code> along the way, with succinct snippets for review. Comments and improvements appreciated!</p>\n<p>Finally, here is <a href=\"/music/songs/MadWorld.m4a\">my musical rendition of Mad World</a> by Tears for Fears. Feel free to import this unrefined <a href=\"/music/\">Ivory and Ivory</a> classic into your music library.</p>","timeToRead":14,"excerpt":"I don't know about you, but it doesn't help me very much to peruse through endless examples of  and  to try to figure out how to use a…","frontmatter":{"title":"Real World Examples of Map, Filter and Reduce in JavaScript","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADFklEQVQ4y4VVSU8UQRTugaMHLlz8DaIwyBZkHWPEGeieAY0HJUSuxsTEhIuJB8ETRMJBXBITFK8evAoXY2I0hGCCgwONrDrAALOwKXRTz/dVd016gIROXup1V9VXX31vaU3zPKkZXUuZhvJ9bPmpGSM/M2v4tmbDGnznm+7DmrSpyz3HHgnkTmxEg/DztVMeF9iz38gFVGPaNPJc/wxbO9sQ2wjbKNswWydbgcPQ8OWCsp8yc8B8rn+DbdGOtxGtthFG5R+utBHPxdk6sDZjhnMISaobUyEvsy5s+rsYwUbLYzbG5LRu7c6HGfw65nu8TLN6Ks3ADGC8QACAg0Hbv6QvGEhszxlibyFM/B3gNq1J0E4vhqYi5mq26DKTYImoLpYmmgUfwIzDtDDeLCY/BcVaVMeh9g4z5bUJtsIsloddO3TihdZmTKfDeES8HQzQ5UApbTH4y6cNVF9XSmXlJfSoq0bsL4dpc1o/cFnezbJEbrkvQxCdc8vaiOlCrETEq/5Gqqry0+y3EJ0rukC9j+to/adO0c9B2nKksECCx/eulnkaktYFHFEMAWjHI/R6oJGqq/2UmNLpzu1KKq8oof4n9bQy2SK1TbI0B79bATihgqOhAlzAUfc0m68saL2V3r0IUAWDZFhD6Pi8r4Eqq0ro1s0KQpCg4/6yBPyeBfRceVisOgyZkYA9fHCJamv9tM4Mx0ev0e6CQX3ddVR0vlgGi6NuW38k4AcPYDYonWDImyyOJF29clEU+4vpzbMArf5ooWBTGdXU+KUEg70NYnfeAEsVlPueoGTTpgAVsMdpw+xsMIp9CYmdeee6c2PNNPaxScx8DYk9TiFcd3sOo57kfWe9KZhlyZMduDYS999S2MYVoRUSm4GRKoqZrBpKSHb3JIbpSKel3ZJRdcygPbgGTseVVNkhogDCN8y5YAPHSs9b2Bkzonx0lASAoes+pwZMNghHs6RidrRbndS+lKaFqAAkLfIMqYFoIgBKs6Pty9MPDe1IXzu9wZpGToNNx1pO7tqq86pfAMoJTJR5fwGpE34B/wEgbi1Y5n1kcAAAAABJRU5ErkJggg==","width":150,"height":150,"src":"/static/5e267e2ee412a23e797106ee564145a0/4148e/js.png","srcSet":"/static/5e267e2ee412a23e797106ee564145a0/4148e/js.png 1x,\n/static/5e267e2ee412a23e797106ee564145a0/de03e/js.png 1.5x"}}},"slug":"real-world-examples-of-map-filter-and-reduce-in-javascript","date":"2017-08-11T00:00:00.000Z","categories":["Code"],"tags":["es6","javascript"],"template":"post"},"fields":{"slug":"/real-world-examples-of-map-filter-and-reduce-in-javascript/","date":"2017-08-11T00:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/real-world-examples-of-map-filter-and-reduce-in-javascript/"}}}