{"componentChunkName":"component---src-templates-post-js","path":"/unit-testing-in-javascript/","webpackCompilationHash":"","result":{"data":{"markdownRemark":{"html":"<p><strong>Test-driven development</strong> (TDD) is an approach to development that consists of writing tests, followed by production code, and refactoring as needed. The tests are written to fail initially, and the developer writes code to fulfill the requirements of the test so they pass.</p>\n<p>In this tutorial, we'll learn how to implement the TDD process by developing a simple command line calculator app from scratch with Node.js. In case you're unfamiliar, <strong>Node.js</strong> allows the use of JavaScript on the server side. <a href=\"/how-to-install-and-use-node-js-and-npm-mac-and-windows/\">Read the getting started article</a> to get up to speed with Node.js. We're going to set up tests with <a href=\"https://mochajs.org/\">Mocha</a>, a testing framework, for this app.</p>\n<p>You'll also learn how to use the built-in readline module in Node.js to send commands to the program via the command line.</p>\n<ul>\n<li><a href=\"https://github.com/taniarascia/calc\">View Source on GitHub</a></li>\n</ul>\n<h4 id=\"goals\"><a href=\"#goals\" aria-label=\"goals permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Goals</h4>\n<ul>\n<li>The application should <strong>add, subtract, divide, and multiply</strong> any two numbers</li>\n<li>The application should <strong>display a warning and exit</strong> if it receives any input that does not consist of numbers</li>\n<li>The system will provide a <strong>command line interface</strong> that allows the end users to utilize program functionality</li>\n</ul>\n<p>Now that we know what app should do, we can begin setting up the environment for testing and developing.</p>\n<h4 id=\"prerequisites\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prerequisites</h4>\n<ul>\n<li>In order to follow along with this tutorial, you should have a Node.js server environment and npm installed on your computer. <a href=\"/how-to-install-and-use-node-js-and-npm-mac-and-windows/\">Learn about Node.js and npm</a> and how to install them on Mac/Windows.</li>\n<li>You will need to have a working knowledge of JavaScript <a href=\"https://www.digitalocean.com/community/tutorials/understanding-syntax-and-code-structure-in-javascript\">syntax and code structure</a>, <a href=\"https://www.digitalocean.com/community/tutorials/understanding-data-types-in-javascript\">data types</a>, <a href=\"https://www.digitalocean.com/community/tutorials/how-to-do-math-in-javascript-with-operators\">mathematical operations</a> and <a href=\"https://www.digitalocean.com/community/tutorials/how-to-write-conditional-statements-in-javascript\">conditional statements</a>.</li>\n</ul>\n<h2 id=\"setting-up-our-environment\"><a href=\"#setting-up-our-environment\" aria-label=\"setting up our environment permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting Up Our Environment</h2>\n<p>Since our application runs in Node.js, we will need to set up a local environment for our files and dependencies.</p>\n<p>Create a new directory called <strong>calc</strong>. In the command prompt, navigate to the directory and initialize a new project using <code class=\"language-text\">npm init</code>, which will create a new <strong>package.json</strong> file for our program.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> init</code></pre></div>\n<p>You will be prompted to enter the package name, version, description, and other common package details. We can enter the name <strong>calc.js</strong>, and continue along pressing <code class=\"language-text\">ENTER</code> for all the default items, giving a description if you'd like. When you reach <code class=\"language-text\">test command</code>, type <code class=\"language-text\">mocha</code>, which is the testing framework we will be using.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">test</span> command: mocha</code></pre></div>\n<p>Continue entering the defaults until the walkthrough is complete. The script will create a <strong>package.json</strong> file that looks like this:</p>\n<div class=\"filename\">package.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"calc.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"version\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"description\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"A simple calculator application built with Node.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"main\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"scripts\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"test\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"mocha\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"author\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"license\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ISC\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Our final step for setting up the environment is to install Mocha, the JavaScript testing framework we will be using for our app. Input the following command to install Mocha:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev mocha</code></pre></div>\n<p>Running this command will add a <strong>node_modules</strong> directory, a <strong>package-lock.json</strong> file, and the following code to your original <strong>package.json</strong>:</p>\n<div class=\"filename\">package.json</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">\"devDependencies\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"mocha\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^4.0.1\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>We have our Node project, with the testing script and dependency loaded in. Let's make sure our testing framework is working properly.</p>\n<p>Create a <strong>test.js</strong> file. We will use the built-in Node.js <a href=\"https://nodejs.org/api/assert.html\">assert module</a> to test if <code class=\"language-text\">true</code> is equal to <code class=\"language-text\">true</code>. Since it is, the test should pass.</p>\n<p>test.js</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> assert <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'assert'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should return true'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now in the command prompt, run the test.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token builtin class-name\">test</span>\n\n```terminal\n\n<span class=\"token operator\">></span> mocha\n\n  ✓ should <span class=\"token builtin class-name\">return</span> <span class=\"token boolean\">true</span>\n\n  <span class=\"token number\">1</span> passing <span class=\"token punctuation\">(</span>8ms<span class=\"token punctuation\">)</span></code></pre></div>\n<p>The test is passing as expected, so our testing environment setup is complete. Remove everything except the first line from <strong>test.js</strong>.</p>\n<div class=\"filename\">test.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> assert <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'assert'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>test.js</strong> is the file we will use for testing throughout the creation of our app. Let's create two additional files: <strong>operations.js</strong> for our arithmetic and validation functions, and <strong>calc.js</strong> for our app itself. We want to keep our files separate so they don't get too long and complex. Below is our list of files.</p>\n<ul>\n<li>calc.js</li>\n<li>node_modules</li>\n<li>operations.js</li>\n<li>package-lock.json</li>\n<li>package.json</li>\n<li>test.js</li>\n</ul>\n<p>From here, we will begin adding our first actual test for the application.</p>\n<h2 id=\"adding-mathematical-operations\"><a href=\"#adding-mathematical-operations\" aria-label=\"adding mathematical operations permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adding Mathematical Operations</h2>\n<p>The first requirement for our application is that it should add, subtract, divide, and multiply any two numbers. This means we'll have to create a function for each of those mathematical operations.</p>\n<p>Let's start with addition. We will write a test to calculate the sum of two numbers that we know will be true. The below code is testing if <code class=\"language-text\">1</code> plus <code class=\"language-text\">3</code> equals <code class=\"language-text\">4</code> in the <code class=\"language-text\">add()</code> function.</p>\n<div class=\"filename\">test.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> assert <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'assert'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'correctly calculates the sum of 1 and 3'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>After running our test with <code class=\"language-text\">npm test</code>, we will get the following output:</p>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">&gt; mocha\n\n  0 passing (9ms)\n  1 failing\n\n  1) correctly calculates the sum of 1 and 3:\n      ReferenceError: add is not defined\n      at Context.it (test.js:5:16)\n\nnpm ERR! Test failed.  See above for more details.</code></pre></div>\n<p>The test has failed, giving us the following information: <code class=\"language-text\">ReferenceError: add is not defined</code>. We're testing the <code class=\"language-text\">add()</code> function which does not exist yet, so this error makes perfect sense.</p>\n<p>In <strong>operations.js</strong>, we're going to create the <code class=\"language-text\">add()</code> function.</p>\n<div class=\"filename\">operations.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">+</span>x <span class=\"token operator\">+</span> <span class=\"token operator\">+</span>y</code></pre></div>\n<p>The <code class=\"language-text\">add()</code> function takes two arguments (<code class=\"language-text\">x</code> and <code class=\"language-text\">y</code>) and returns their sum. You may notice that it is written as <code class=\"language-text\">(+x) + (+y)</code> instead of <code class=\"language-text\">x + y</code>. We are using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Unary_plus\">unary operator</a> to coerce the parameters into numbers in case the input is a string.</p>\n<blockquote>\n<p><strong>Note:</strong> This function is using ES6 arrow functions and implicit returns. Read more about <a href=\"https://www.digitalocean.com/community/tutorials/how-to-define-functions-in-javascript\">the different ways to write a function in JavaScript</a> for increased clarity.</p>\n</blockquote>\n<p>Since we're using Node.js and breaking our code into multiple files, we'll need to use <code class=\"language-text\">module.exports</code> to export the code.</p>\n<div class=\"filename\">operations.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">+</span>x <span class=\"token operator\">+</span> <span class=\"token operator\">+</span>y\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> add <span class=\"token punctuation\">}</span></code></pre></div>\n<p>At the top of <strong>test.js</strong>, we will import our <strong>operations.js</strong> code with <code class=\"language-text\">require()</code>. Since we're pulling in the function through the <code class=\"language-text\">operations</code> variable, we'll change <code class=\"language-text\">add()</code> to <code class=\"language-text\">operations.add()</code>.</p>\n<div class=\"filename\">test.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> operations <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./operations.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> assert <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'assert'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'correctly calculates the sum of 1 and 3'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Run the test.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token builtin class-name\">test</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">&gt; mocha\n\n  ✓ correctly calculates the sum of 1 and 3\n\n  1 passing (8ms)</code></pre></div>\n<p>Now we have a working function, and our test passes as expected. Since the other arithmetic functions all follow the same pattern, we can make tests for <code class=\"language-text\">subtract()</code>, <code class=\"language-text\">multiply()</code>, and <code class=\"language-text\">divide()</code>, as well as one to test negative integers.</p>\n<div class=\"filename\">test.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'correctly calculates the sum of 1 and 3'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'correctly calculates the sum of -1 and -1'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'correctly calculates the difference of 33 and 3'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">subtract</span><span class=\"token punctuation\">(</span><span class=\"token number\">33</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'correctly calculates the product of 12 and 12'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">144</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'correctly calculates the quotient of 10 and 2'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">divide</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>We will create and export all our functions in <strong>test.js</strong>...</p>\n<div class=\"filename\">test.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">+</span>x <span class=\"token operator\">+</span> <span class=\"token operator\">+</span>y\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">subtract</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">+</span>x <span class=\"token operator\">-</span> <span class=\"token operator\">+</span>y\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">multiply</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">+</span>x <span class=\"token operator\">*</span> <span class=\"token operator\">+</span>y\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">divide</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">+</span>x <span class=\"token operator\">/</span> <span class=\"token operator\">+</span>y\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  add<span class=\"token punctuation\">,</span>\n  subtract<span class=\"token punctuation\">,</span>\n  multiply<span class=\"token punctuation\">,</span>\n  divide<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>...and run our new tests.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token builtin class-name\">test</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">&gt; mocha\n\n  ✓ correctly calculates the sum of 1 and 3\n  ✓ correctly calculates the sum of -1 and -1\n  ✓ correctly calculates the difference of 33 and 3\n  ✓ correctly calculates the product of 12 and 12\n  ✓ correctly calculates the quotient of 10 and 2\n\n  5 passing (8ms)</code></pre></div>\n<p>All of our tests are passing, so now we can be sure that the main objectives of our application will function properly. Moving forward, we will add some extra validation.</p>\n<h2 id=\"adding-validation\"><a href=\"#adding-validation\" aria-label=\"adding validation permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adding Validation</h2>\n<p>Right now, if the user enters any number and selects an operation, everything works as expected. However, what would happen if they tried to find the sum of a number and a string✓ The application would attempt to do the calculation, but as it's expecting numbers, the output would be <code class=\"language-text\">NaN</code>, or Not a Number.</p>\n<p>Instead of just returning strange output, we want to fill the second goal of our application - that it should display a warning and exit if it receives any input that is not a number.</p>\n<p>First, we'll have to create a function that tests whether the input is a number or not. The application will take two numbers, so we'll test three things: if both inputs are a number, if only one is a number, and if neither one is a number.</p>\n<div class=\"filename\">test.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'indicates failure when a string is used instead of a number'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">validateNumbers</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sammy'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'indicates failure when two strings is used instead of numbers'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">validateNumbers</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sammy'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sammy'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'successfully runs when two numbers are used'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  assert<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">validateNumbers</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Our <code class=\"language-text\">validateNumbers()</code> function will test both parameters. The <code class=\"language-text\">isNaN()</code> function will check if the parameters are <em>not</em> numbers, and will return <code class=\"language-text\">false</code> if so. Otherwise it will return <code class=\"language-text\">true</code>, and the validation will be successful.</p>\n<div class=\"filename\">operations.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">validateNumbers</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isNaN</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">isNaN</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Make sure to add <code class=\"language-text\">validateNumbers</code> to the <code class=\"language-text\">module.exports</code> at the bottom of the file. Now we can run our new tests.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token builtin class-name\">test</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">1) indicates failure when a string is used instead of a number\n✓ indicates failure when two strings is used instead of numbers\n✓ successfully runs when two numbers are used\n\n7 passing (12ms)\n1 failing\n\n\n1) indicates failure when a string is used instead of a number:\n\n    AssertionError [ERR_ASSERTION]: true == false\n    + expected - actual\n\n    -true\n    +false</code></pre></div>\n<p>Two of them passed, but one failed. Testing for success on two numbers passed, as well as testing for failure on two strings. Our first validation test, one string and one number, failed.</p>\n<p>Looking back at our function, it requires that <em>both</em> parameters must be <code class=\"language-text\">NaN</code> to fail. We want it to fail even if only one parameter is <code class=\"language-text\">NaN</code>, so we will change <code class=\"language-text\">&amp;&amp;</code> to <code class=\"language-text\">||</code>.</p>\n<div class=\"filename\">operations.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">validateNumbers</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isNaN</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">isNaN</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Once we make this change and run <code class=\"language-text\">npm test</code>, all eight tests will pass.</p>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">✓ indicates failure when a string is used instead of a number\n✓ indicates failure when two strings is used instead of numbers\n✓ successfully runs when two numbers are used\n\n8 passing (9ms)</code></pre></div>\n<p>All of the functionality of our application has been tested. The functions have been proven to successfully do mathematical operations and validate input. The final step is creating the interface for the user.</p>\n<h2 id=\"creating-final-command-line-interface\"><a href=\"#creating-final-command-line-interface\" aria-label=\"creating final command line interface permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating Final Command Line Interface</h2>\n<p>We have the necessary functions to do arithmetic and validate, but there is currently no way for a user to access these functions. It will be necessary to utilize an interface. A user interface can be a <strong>graphical user interface</strong> (GUI) or <strong>command line interface</strong> (CLI). We are going to make our application using a command line interface.</p>\n<p>Currently, our <strong>calc.js</strong> file is empty. This is where our application is going to live. To begin, we will pull in the functions from <strong>operations.js</strong>.</p>\n<p>calc.js</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> operations <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./operations.js'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Our interface itself will use the <a href=\"https://nodejs.org/api/readline.html\">Readline</a> module, a built-in Node.js CLI.</p>\n<div class=\"filename\">calc.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> readline <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'readline'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now that we're pulling in all our requirements, we can begin building the app. We will access <code class=\"language-text\">readline</code> through the <code class=\"language-text\">rl</code> variable to create the interface.</p>\n<div class=\"filename\">calc.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Use readline to create command line interface</span>\n<span class=\"token keyword\">const</span> rl <span class=\"token operator\">=</span> readline<span class=\"token punctuation\">.</span><span class=\"token function\">createInterface</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  input<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>stdin<span class=\"token punctuation\">,</span>\n  output<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>stdout<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The first thing we'll want the user to see when they run the program is the initial welcome screen, which tells them what they've opened, and the instructions for usage. We will do this with a <code class=\"language-text\">console.log()</code>.</p>\n<div class=\"filename\">calc.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\nCalc.js\n\nWelcome to the Node.js Calculator app! \nVersion: 1.0.0.\n\nUsage: The user will be prompted for two numbers, \nthen asked to select their operation of choice.\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Before we get started with the actual functionality of the calculator, let's test of our <code class=\"language-text\">console.log()</code> is working properly. We'll make our app print out the message, then exit. <code class=\"language-text\">readline</code> will use the <code class=\"language-text\">rl.close()</code> method to exit.</p>\n<div class=\"filename\">calc.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">rl<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>To run a command line application with node, you will type <code class=\"language-text\">node</code> followed by the filename.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">node calc.js</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">Calc.js\n\nWelcome to the Node.js Calculator app!\nVersion: 1.0.0.\n\nUsage: The user will be prompted for two numbers,\nthen asked to select their operation of choice.</code></pre></div>\n<p>Our welcome screen displays, then the program terminates. The next step will be to take some user input. We're going to require three in total: two numbers, and a choice of operation. We will request each input with the <code class=\"language-text\">rl.question()</code> method.</p>\n<div class=\"filename\">calc.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">rl<span class=\"token punctuation\">.</span><span class=\"token function\">question</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Enter the first number: '</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  rl<span class=\"token punctuation\">.</span><span class=\"token function\">question</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Enter the second number: '</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">y</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    rl<span class=\"token punctuation\">.</span><span class=\"token function\">question</span><span class=\"token punctuation\">(</span>\n      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    Please select from the following options:\n    \n    [1] Addition (+)\n    [2] Subtraction (-)\n    [3] Multiplication (*)\n    [4] Division (/)\n    \n    Enter your choice: </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token parameter\">choice</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// additional code to be added here</span>\n        rl<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Our first number will be entered with the parameter of <code class=\"language-text\">x</code>, the second number with <code class=\"language-text\">y</code>, and the operation selection with <code class=\"language-text\">choice</code>. At this point, running the program will request the desired input, but won't do anything with it.</p>\n<p>After our third question, the first thing we'll want to do is validate the input to ensure only numbers are being entered. We're going to reference the <code class=\"language-text\">validateNumbers()</code> function. Using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_NOT\">logical NOT</a> operator, we will test if the parameter values are <em>not</em> numbers, and end the program if so.</p>\n<div class=\"filename\">calc.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">validateNumbers</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Only numbers are allowed! Please restart the program.'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>If all input is valid and correct, we will want to move forward with the process and run the respective mathematical operations that we created earlier. We will use a <a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-the-switch-statement-in-javascript\"><code class=\"language-text\">switch</code> statement</a> to execute code based on the four possible choices, and output the result of the operation. If an invalid choice is made, the <code class=\"language-text\">default</code> code block will run, telling the user to start over.</p>\n<div class=\"filename\">calc.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">validateNumbers</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Only numbers are allowed! Please restart the program.'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>choice<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">:</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">The sum of </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> and </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">break</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">The difference of </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> and </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">subtract</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">break</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">:</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">The product of </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> and </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">break</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'4'</span><span class=\"token punctuation\">:</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">The quotient of </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> and </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">divide</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">break</span>\n    <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Please restart the program and select a number between 1 and 4.'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">break</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p><strong>Note:</strong> The <code class=\"language-text\">console.log()</code> functions are utilizing <strong>template literals</strong>, a type of string that allows expressions and variables to be embedded in the string. For more information, learn <a href=\"https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript\">how to work with strings in JavaScript</a>.</p>\n</blockquote>\n<p>Here's the final code.</p>\n<div class=\"filename\">calc.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * A simple Node.js calculator app that uses\n * the built-in Readline command line interface.\n */</span>\n\n<span class=\"token keyword\">const</span> operations <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./operations.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> readline <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'readline'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Use readline to create command line interface</span>\n<span class=\"token keyword\">const</span> rl <span class=\"token operator\">=</span> readline<span class=\"token punctuation\">.</span><span class=\"token function\">createInterface</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  input<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>stdin<span class=\"token punctuation\">,</span>\n  output<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>stdout<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    Calc.js\n    Welcome to the Node.js Calculator app! \n    Version: 1.0.0.\n    Usage: The user will be prompted for two numbers, \n    then asked to select their operation of choice.\n    </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\nrl<span class=\"token punctuation\">.</span><span class=\"token function\">question</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Enter the first number: '</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  rl<span class=\"token punctuation\">.</span><span class=\"token function\">question</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Enter the second number: '</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">y</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    rl<span class=\"token punctuation\">.</span><span class=\"token function\">question</span><span class=\"token punctuation\">(</span>\n      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    Please select from the following options:\n    [1] Addition (+)\n    [2] Subtraction (-)\n    [3] Multiplication (*)\n    [4] Division (/)\n    Enter your choice: </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token parameter\">choice</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">validateNumbers</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Only numbers are allowed! Please restart the program.'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>choice<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">:</span>\n              console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">The sum of </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> and </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n              <span class=\"token keyword\">break</span>\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'2'</span><span class=\"token punctuation\">:</span>\n              console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">The difference of </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> and </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">subtract</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n              <span class=\"token keyword\">break</span>\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'3'</span><span class=\"token punctuation\">:</span>\n              console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">The product of </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> and </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n              <span class=\"token keyword\">break</span>\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'4'</span><span class=\"token punctuation\">:</span>\n              console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">The quotient of </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> and </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> is </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>operations<span class=\"token punctuation\">.</span><span class=\"token function\">divide</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n              <span class=\"token keyword\">break</span>\n            <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\n              console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Please restart the program and select a number between 1 and 4.'</span><span class=\"token punctuation\">)</span>\n              <span class=\"token keyword\">break</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        rl<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Our application is now complete. Let's test the final output. We will input <code class=\"language-text\">999</code> and <code class=\"language-text\">1</code>, and request a subtraction operation.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">node calc.js\n\nEnter the first number: <span class=\"token number\">999</span>\nEnter the second number: <span class=\"token number\">1</span>\nEnter your choice: <span class=\"token number\">2</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">The difference of 999 and 1 is 998.</code></pre></div>\n<p>Everything went through successfully and our output was as expected. Congratulations! You have successfully created a simple calculator application with Node.js, and learned the basics of the test-driven development methodology along the way.</p>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>If you missed anything or got stuck along the way, you can find the source code on GitHub.</p>\n<ul>\n<li><a href=\"https://github.com/taniarascia/calc\">View Source on GitHub</a></li>\n</ul>\n<p>We just covered the basics of test-driven development through the creation of a command line calculator app in Node.js. We used the Mocha framework for testing, and the built-in Node.js Readline module for creating a command line interface.</p>\n<p>One option moving forward would be to test and implement new features of the calculator, such as adding the ability to square a number or find the remainder, or you could implement a looping method for the calculator to ask if the user would like to do another calculation after completing one.</p>","timeToRead":15,"excerpt":"Test-driven development (TDD) is an approach to development that consists of writing tests, followed by production code, and refactoring as…","frontmatter":{"title":"Unit Testing in JavaScript with Mocha","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAENElEQVQ4y2VU3U+bVRhvxxKTXezCeKMRFy6MXm06J2E6sRtfZWwKCAiDtXyV748Ja7fWQgstLaUUSls+SgtMxsdARhnFLSZeLJuJeuV/4I16o4kuRmNs+57H3zltX0r2Jic57znP+T2/53l+z6NQpL7JthKx+Lfm1ysmdcVZ6bvRurwXR2tzs9P/7taiLG/P1Yx3aoX8ufHDDz0pME+7+phTq5LBrDXnWqe7rvw60/vx3wC22q6dP8HPbXV5Srw7lknI3V6ikFlNdZYpXc2XjqcNLNVnVa7mgu+3XX0UXRilB3MjtOc1EBz+BCf1aTun9sMsT0epMgmaYurWFStlRtXv5Ixdv7Cx9LmWHoXHaHNiIO5pL5UmWgrZqq0r9jDsoA17J403qR7DNi/9brzpovIIWGCg6oS9/j2rv7/yn4cLI3TfZ5Z8fRWJ8UYVIWcEO8b3iCSx5THEH4XsFDTUEZyH3bqilzkGnCZBg4aGFyZaCn6IeD6j6OIYLRqvx8GAoTCEcxYyaVnY3MT4HiGTs1HFZgeq43tzVhYNmGiyrfh3pC5HLszty2+cmtfX/RuZtZBTmy9YwYAhp8x/4xM6CI9TNOTg7IQDcdd0kRAR2/YY/lu3d5Cl6u3DUt9QvfJqyKj5Y8s9SKimNH+zls0Nfkreno9oxaKjxzsh+mZjlhYM1wjMsGpoDjZICVu1d0tr9i4aqjhdIAMOXMrODt5ueLbjNdJ0Z5kUAKuZ3nIB5usrp69XvfR0747YwyEhz2LBYSZgoQyoL8rJhvdnB4t2+nbvjvQkskxbk3qKBsdo1z9Em2B+b/ImLZmbAT5Ne5AQ8kpPIysMTqV1AXjmecBo0I6iOKT9BRttT92ig5CTdgPDvOJiLQ+3yoD8/8nuMnswb5O+sOqQw7OHgIMFr4mQ78+YEEqFhAIR8kh37d2E3IqcrTv7waqReG6Dt+rFOcJniES6a+ug4cq3Co8UZdGo+fPexADXm+Ttvsqmu8pQaTUqe5nQerzqNNWR3PNqi7N2NVuxtokcmssziqIvzjkFhn99iaLYG96XuJChNyEPOCCuRw6Y2rPkXTFkc56BeUzksPJMiQyI1joJ45+jfhPteE0JhJJwJrUI4FIOnNqrBRjajNC/Em/Lg3kLecEWmj2tSLZLgTLZgkWvo9F3V8yN9FVwlNYcfXGASOIxB+oo5UIXwkaYMT4wNsc6OdB3sLnAMRya/GTrgY0yY1yp0ZM/brt6aR+PloaaY7xj0D1swVAfjwQsFJnWc4a/jNTmtqTfjdS8q5TnWHoOOrT5Yr4RkQIDtQeJ/23fZyQueLRY4mBumAs6hpnocmg+OCkUciWHY8jz88iknu2v4tPncFLX5r6EfvVBNmzZpCGEtIsI3syY3MfhVMZJD+nngCELxURroTxsEdo5LFlnSEHGUE2+c7Ulr/8H9DKcM3eDd9QAAAAASUVORK5CYII=","width":150,"height":150,"src":"/static/f6c16fe979dd2c2267c5731bdff95f2b/4148e/mocha.png","srcSet":"/static/f6c16fe979dd2c2267c5731bdff95f2b/4148e/mocha.png 1x"}}},"slug":"unit-testing-in-javascript","date":"2018-03-27T00:00:00.000Z","categories":["Tools","Code"],"tags":["javascript","mocha","testing"],"template":"post"},"fields":{"slug":"/unit-testing-in-javascript/","date":"2018-03-27T00:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/unit-testing-in-javascript/"}}}