{"componentChunkName":"component---src-templates-post-js","path":"/using-react-router-spa/","webpackCompilationHash":"65c611f74b1531f04772","result":{"data":{"markdownRemark":{"html":"<p>React doesn't come with a built-in router, but we can easily achieve routing with the <code class=\"language-text\">react-router-dom</code> library. <strong>Routing</strong> is how a web applications direct traffic. (If you know what routing is, feel free to skip this section.)</p>\n<p>Example: If you go to <a href=\"/\">taniarascia.com</a>, you end up on my home page. If you go to <a href=\"/me\">taniarascia.com/me</a>, you're redirected to my about me page. If you go to <a href=\"/categories/javascript\">taniarascia.com/categories/javascript</a> or <a href=\"/categories/css\">taniarascia.com/categories/css</a>, you end up on a category listing page. The routes for these pages look something like this:</p>\n<ul>\n<li><code class=\"language-text\">/</code> - root</li>\n<li><code class=\"language-text\">/:page_id</code> - page</li>\n<li><code class=\"language-text\">/categories/:category_id</code> - category</li>\n</ul>\n<p>I'm not actually making a folder called <code class=\"language-text\">categories</code> and filling it with a bunch of files like <code class=\"language-text\">javascript.html</code> or <code class=\"language-text\">css.html</code>, I just have one template and the router knows to direct to the proper template. Once it gets to the template, it can pull from the URL to know which variables to display - for example, JavaScript or CSS related posts.</p>\n<p>This website also happens to be a <strong>Single Page Application</strong> (or SPA) - only one page is loaded, and every click to a new page loads some additional JSON data, but does not actually request a new resource like loading <code class=\"language-text\">index.html</code> and <code class=\"language-text\">about-me.html</code> would.</p>\n<p>I'm going to show you how to set up a simple SPA in React with <code class=\"language-text\">react-router-dom</code>, and pull in data dynamically through the URL. Below is the source of the completed project if you get lost along the way.</p>\n<ul>\n<li><a href=\"https://github.com/taniarascia/router-example\">View Source</a></li>\n</ul>\n<h4 id=\"prerequisites\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prerequisites</h4>\n<ul>\n<li>Read <a href=\"https://www.taniarascia.com/getting-started-with-react/\">Getting Started with React</a> or <a href=\"https://www.taniarascia.com/crud-app-in-react-with-hooks/\">Build a React App with Hooks</a> if you don't know React or React Hooks yet.</li>\n<li>Read <a href=\"https://www.taniarascia.com/how-to-connect-to-an-api-with-javascript/\">How to Connect to an API in JavaScript</a> if you don't know how to work with APIs at all.</li>\n</ul>\n<h2 id=\"installation\"><a href=\"#installation\" aria-label=\"installation permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installation</h2>\n<p>Create a new React app.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx create-react-app router-example</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"terminal\"><pre class=\"language-terminal\"><code class=\"language-terminal\">Creating a new React app in /Users/taniarascia/dev/sandbox/router-example.\n\nInstalling packages. This might take a couple of minutes.\nInstalling react, react-dom, and react-scripts...</code></pre></div>\n<p>Our project has two dependencies - <code class=\"language-text\">react-router-dom</code> for the router, and <code class=\"language-text\">axios</code> for making API calls.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> react-router-dom axios</code></pre></div>\n<p>or</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> react-router-dom axios</code></pre></div>\n<h2 id=\"browser-router\"><a href=\"#browser-router\" aria-label=\"browser router permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Browser Router</h2>\n<p>To use <code class=\"language-text\">react-router-dom</code>, we need to wrap our entire <code class=\"language-text\">App</code> component in <a href=\"https://reacttraining.com/react-router/web/api/BrowserRouter\"><code class=\"language-text\">BrowserRouter</code></a>. There are two types of routers:</p>\n<ul>\n<li><code class=\"language-text\">BrowserRouter</code> - makes pretty URLs like <code class=\"language-text\">example.com/about</code>.</li>\n<li><code class=\"language-text\">HashRouter</code> - makes URLs with the octothorpe (or hashtag, if you will) that would look like <code class=\"language-text\">example.com/#about</code>.</li>\n</ul>\n<p>Let's use <code class=\"language-text\">BrowserRouter</code>.</p>\n<div class=\"filename\">src/index.js</div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BrowserRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App'</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">BrowserRouter</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">BrowserRouter</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#root'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"route-and-switch\"><a href=\"#route-and-switch\" aria-label=\"route and switch permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Route and Switch</h2>\n<p>Now in <code class=\"language-text\">App.js</code>, we can decide on the routes we want to use and direct accordingly. We'll use <code class=\"language-text\">Route</code> and <code class=\"language-text\">Switch</code> for this task.</p>\n<ul>\n<li><code class=\"language-text\">Switch</code> - Groups all your routes together, and ensures they take precedence from top-to-bottom.</li>\n<li><code class=\"language-text\">Route</code> - Each individual route.</li>\n</ul>\n<div class=\"filename\">App.js</div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Route<span class=\"token punctuation\">,</span> Switch <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span>\n<span class=\"token comment\">// We will create these two pages in a moment</span>\n<span class=\"token keyword\">import</span> HomePage <span class=\"token keyword\">from</span> <span class=\"token string\">'./pages/HomePage'</span>\n<span class=\"token keyword\">import</span> UserPage <span class=\"token keyword\">from</span> <span class=\"token string\">'./pages/UserPage'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Switch</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">exact</span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>HomePage<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/:id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>UserPage<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Switch</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>We're matching the root route (<code class=\"language-text\">/</code>) to <code class=\"language-text\">HomePage</code>, and dynamically matching any other page to <code class=\"language-text\">UserPage</code>. I only have one route for this simple example, but you could do more like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Switch</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">exact</span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>HomePage<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/:id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>UserPage<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/categories<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>CategoriesPage<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/categories/:id<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>IndividualCategoryPage<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Switch</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>This would ensure that <code class=\"language-text\">taniarascia.com/categories</code> would go to a page listing all categories, but <code class=\"language-text\">taniarascia.com/categories/javascript</code> would go to a completely different template for the inidiviual category listing.</p>\n<h2 id=\"link\"><a href=\"#link\" aria-label=\"link permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Link</h2>\n<p>In order to link to a page within the SPA, we'll use <a href=\"https://reacttraining.com/react-router/web/api/Link\"><code class=\"language-text\">Link</code></a>. If we used the traditional <code class=\"language-text\">&lt;a href=&quot;/route&quot;&gt;</code>, it would make a completely new request and reload the page, so we have <code class=\"language-text\">Link</code> to help us out.</p>\n<div class=\"filename\">src/pages/HomePage.js</div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">HomePage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Home Page</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/taniarascia<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">taniarascia</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"> on GitHub.\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>So now I'm going to my first route, the root route which is loading <code class=\"language-text\">HomePage</code>, and I see the content and the link.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 850px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7a0770038ff804dfb3c300de6dc61183/530f9/router-home-page.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25692137320044%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABk0lEQVQoz6WPW0sCQRTHraciMcTueUFYs9YrZVSbEtLXCrqIShfEwiSK3qK+gD4rCCHFli9RELRB7krsagk95eycZm03gyKUDvw4c87w/zGj05EKT/vpxZA3GGCCC+HwMhMMLTEzgTlmbp5hAqR7vX7G6/F/dhUPmV0uD+N00gsUNRGkaTetU6vXabWeO6ZsQLl9Dd/0LHb7Z7DdMdlk3GLHpsFRPDD0k6ERMx4z2xo2OwXDo+YicfUowv6VtY2rVPoQEsldObmXglT6AOKb27ARjUEkGv+dWBy2dhKwt5+WT07PYHU9UiIugyI0PHIP7EtNglq1ijiOw1VJwgDQLogA9dfXqy/h3T3H1t5keBZrSBB4qNfrIMsyIITaoSksl8vXX8KnssAqywaStXvAGLdLMyAIQktIBla1oO8y7fxXacJKpdISkudeKkvyunfyVdQJSkbJ8jzPasJ+URRv4J8lSdKtJuzLZDJHhUKhlMvlivl8/qJDiko2m80eKy6dXq/vIgcjwUIwq70TtIzRZDJ1fwAVWzQ0K/lO9QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"router home page\"\n        title=\"router home page\"\n        src=\"/static/7a0770038ff804dfb3c300de6dc61183/4d3f1/router-home-page.png\"\n        srcset=\"/static/7a0770038ff804dfb3c300de6dc61183/0cb30/router-home-page.png 213w,\n/static/7a0770038ff804dfb3c300de6dc61183/a67b6/router-home-page.png 425w,\n/static/7a0770038ff804dfb3c300de6dc61183/4d3f1/router-home-page.png 850w,\n/static/7a0770038ff804dfb3c300de6dc61183/bfdc0/router-home-page.png 1275w,\n/static/7a0770038ff804dfb3c300de6dc61183/c9b65/router-home-page.png 1700w,\n/static/7a0770038ff804dfb3c300de6dc61183/530f9/router-home-page.png 1806w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"dynamic-route-parameter\"><a href=\"#dynamic-route-parameter\" aria-label=\"dynamic route parameter permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dynamic Route Parameter</h2>\n<p>Our <code class=\"language-text\">Link</code> is navigating to <code class=\"language-text\">/taniarascia</code>, which will match the <code class=\"language-text\">/:id</code> parameter in <code class=\"language-text\">Route</code>. In order to dynamically get the content from the URL - in this case, <code class=\"language-text\">taniarascia</code> - we'll use <code class=\"language-text\">match.params.id</code> from the <code class=\"language-text\">props</code>.</p>\n<p>I'm going to use that parameter to make a call to the GitHub API and retrieve my data. In this example I'll be using Hooks, so if you're not familiar with them, please read <a href=\"https://www.taniarascia.com/crud-app-in-react-with-hooks/\">Building a CRUD App with Hooks</a>.</p>\n<div class=\"filename\">src/pages/UserPage.js</div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">UserPage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Setting initial state</span>\n  <span class=\"token keyword\">const</span> initialUserState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    user<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    loading<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Getter and setter for user state</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">,</span> setUser<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span>initialUserState<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Using useEffect to retrieve data from an API (similar to componentDidMount in a class)</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getUser</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Pass our param (:id) to the API call</span>\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://api.github.com/users/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>props<span class=\"token punctuation\">.</span>match<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token comment\">// Update state</span>\n      <span class=\"token function\">setUser</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// Invoke the async function</span>\n    <span class=\"token function\">getUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Don't forget the `[]`, which will prevent useEffect from running in an infinite loop</span>\n\n  <span class=\"token comment\">// Return a table with some data from the API.</span>\n  <span class=\"token keyword\">return</span> user<span class=\"token punctuation\">.</span>loading <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Loading...</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>match<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>thead</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Name</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Location</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Website</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Followers</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>thead</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tbody</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n              </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>blog<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>blog<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>followers<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tbody</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 850px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dbd18a2d3e1b3422fcd31441d21c0aaf/530f9/route-id.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25692137320044%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB7klEQVQoz6WPTW9SQRSG0ZVG0qZBa6u0pBYhvRRKoGh6pTE1/i1jKrXE1s+KXWjcGf0DsIaExBANtRvjBlZeMAGkXODS+zXzeuYWrKYbG0/yZM7MnPPMGZeL4k4sKt1aXUouy8mVtbW7cnL1thyLJ+TlxE05Hr8hRyJRORKOHq1DwrQPhcJyMCit+P2BpCQtSq5hnA/Mzny8vuDDfGjJisQSfDEa59cCC3w+GOJXZ+e459IUvzg5fYLJKS+/4vVZvjk/Lk97S+Q6J4Tj99ZTe5nd13i+k2E7mV28ePkKW0+eYZvYSD/Cg41NpB6m/2Yzja3HT0H17N37D7i/nton15gQjlUrlfLBQRuK8t0muNbvcwD/ik2g0+ns/RZWSGhaFnq9nt3t9tDv92EYBmzbxmCgwaSccwbGbAdxzhhzajRNc4S1Wu3L8YTValnXdZim6Vy22200Gg1q4lB+NPGz08OhyaHpNnSTOTIRqqqiXq87PbQeCxVFKYtD8RrnHEIuELlmAN1DDpUGUQcMA4M504o7MaFlWSeFNO5ncUhFJr0upA5HOf3xD8RenI/qaDWHXy6PhOPNZvMr/jNarda3kfBCNpt9UywW9/P5fKlQKHw6JSXRm8vl3gqXy+12n6FkgpghvMP1NIx6Jjwez9lf6TwyKwfAwH4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"route id\"\n        title=\"route id\"\n        src=\"/static/dbd18a2d3e1b3422fcd31441d21c0aaf/4d3f1/route-id.png\"\n        srcset=\"/static/dbd18a2d3e1b3422fcd31441d21c0aaf/0cb30/route-id.png 213w,\n/static/dbd18a2d3e1b3422fcd31441d21c0aaf/a67b6/route-id.png 425w,\n/static/dbd18a2d3e1b3422fcd31441d21c0aaf/4d3f1/route-id.png 850w,\n/static/dbd18a2d3e1b3422fcd31441d21c0aaf/bfdc0/route-id.png 1275w,\n/static/dbd18a2d3e1b3422fcd31441d21c0aaf/c9b65/route-id.png 1700w,\n/static/dbd18a2d3e1b3422fcd31441d21c0aaf/530f9/route-id.png 1806w\"\n        sizes=\"(max-width: 850px) 100vw, 850px\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>If you got lost anywhere along the way, view the source on GitHub.</p>\n<ul>\n<li><a href=\"https://github.com/taniarascia/router-example\">View Source</a></li>\n</ul>\n<p>Also, there is a caveat: if you want to use this on GitHub Pages, it's not smart enough to realize that <code class=\"language-text\">you.github.io/repo/:id</code> should direct to <code class=\"language-text\">/:id</code>. If you want to host on GitHub pages and encounter this issue, <a href=\"https://itnext.io/so-you-want-to-host-your-single-age-react-app-on-github-pages-a826ab01e48\">hosting your single page app on GitHub Pages</a> will help you out.</p>","timeToRead":6,"excerpt":"React doesn't come with a built-in router, but we can easily achieve routing with the  library. Routing is how a web applications direct…","frontmatter":{"title":"Using React Router for a Single Page Application","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACF0lEQVQ4y7VVQW8SQRTevwUkcOZKCOHgRdQYOdikSa8mvXAitidjiQd/gV7l0kO9SEPChngRVwWVVFPQ3VqQsjPz+d7sDuzCHNSmk7zszL73ffu992ZmHaVUkWwMYEE2I5v/o81iLHMUnXjCQ+H/h8GOnZhdbZoZyXlybcMwlxNLRuIlODzCRE8zl5Z3SRxzOXEdUiknybZys/vMYp4itKn6ESo8ORNojgW+LNZKN4i3CdclIoCUWIaCZ3gxlbg1CFF7H+LZN6H9guJEmtSu0Jbm6YXEgw8Ct4lw75PAhVC2EtgVsjIeruui2Wyi2+3q9buZxLEvcUBpP/ostNKTQCZJtwnDMNQvgyBApVJBNptFqVTC+WSySsCnkIcfBe55Ie6QYvdS6bJQedaERJ5K2fd9VKtVZDIZlMtlTKbTlTsg3A4R3iVCNveXxEa5IoU00G631WAw0N5+v4+Dw0P0ej29fnsp8eqnxGNKeZ9Sfv5d4rUfNcjzPI1ljlXKjUYDuVxOcarD4TBV9DfUlPte1JTdVVMiZaPRSJeHscyhCal281qthnw+rwqFAjqdjg7+fbXUwJfxtuGaPT2LVC1F9ORYxjCWOZhLK2RHvV5XrVYLptPmmHEjjqir3OGvV+kjyLGMYWwsZLsp1zl6pikzsznpi2oTYI4hm7T4GJPYivpyWNiuJ9v6L662xY1csMWY9Nq/AP6d/AFLV+XFbLQERwAAAABJRU5ErkJggg==","width":150,"height":150,"src":"/static/ddc23c5a2063a20308e2666ab09fb3ee/4148e/reactrouter.png","srcSet":"/static/ddc23c5a2063a20308e2666ab09fb3ee/4148e/reactrouter.png 1x"}}},"slug":"using-react-router-spa","date":"2019-04-25T00:00:00.000Z","categories":["Code"],"tags":["javascript","react","routing","react-router"],"template":"post"},"fields":{"slug":"/using-react-router-spa/","date":"2019-04-25T00:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/using-react-router-spa/"}}}