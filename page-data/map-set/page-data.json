{"componentChunkName":"component---src-templates-post-js","path":"/map-set/","webpackCompilationHash":"8762c7e4cf9babd366db","result":{"data":{"markdownRemark":{"html":"<h1 id=\"map-and-set\"><a href=\"#map-and-set\" aria-label=\"map and set permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Map and Set</h1>\n<p>Now we've learned about the following complex data structures:</p>\n<ul>\n<li>Objects for storing keyed collections.</li>\n<li>Arrays for storing ordered collections.</li>\n</ul>\n<p>But that's not enough for real life. That's why <code class=\"language-text\">Map</code> and <code class=\"language-text\">Set</code> also exist.</p>\n<h2 id=\"map\"><a href=\"#map\" aria-label=\"map permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Map</h2>\n<p><a href=\"mdn:js/Map\">Map</a> is a collection of keyed data items, just like an <code class=\"language-text\">Object</code>. But the main difference is that <code class=\"language-text\">Map</code> allows keys of any type.</p>\n<p>Methods and properties are:</p>\n<ul>\n<li><code class=\"language-text\">new Map()</code> -- creates the map.</li>\n<li><code class=\"language-text\">map.set(key, value)</code> -- stores the value by the key.</li>\n<li><code class=\"language-text\">map.get(key)</code> -- returns the value by the key, <code class=\"language-text\">undefined</code> if <code class=\"language-text\">key</code> doesn't exist in map.</li>\n<li><code class=\"language-text\">map.has(key)</code> -- returns <code class=\"language-text\">true</code> if the <code class=\"language-text\">key</code> exists, <code class=\"language-text\">false</code> otherwise.</li>\n<li><code class=\"language-text\">map.delete(key)</code> -- removes the value by the key.</li>\n<li><code class=\"language-text\">map.clear()</code> -- removes everything from the map.</li>\n<li><code class=\"language-text\">map.size</code> -- returns the current element count.</li>\n</ul>\n<p>For instance:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'str1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// a string key</span>\nmap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'num1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// a numeric key</span>\nmap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bool1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// a boolean key</span>\n\n<span class=\"token comment\">// remember the regular Object? it would convert keys to string</span>\n<span class=\"token comment\">// Map keeps the type, so these two are different:</span>\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>   <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'num1'</span>\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'str1'</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span> map<span class=\"token punctuation\">.</span>size <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3</span></code></pre></div>\n<p>As we can see, unlike objects, keys are not converted to strings. Any type of key is possible.</p>\n<p>Although <code class=\"language-text\">map[key]</code> also works, e.g. we can set <code class=\"language-text\">map[key] = 2</code>, this is treating <code class=\"language-text\">map</code> as a plain JavaScript object, so it implies all corresponding limitations (no object keys and so on).</p>\n<p>So we should use <code class=\"language-text\">map</code> methods: <code class=\"language-text\">set</code>, <code class=\"language-text\">get</code> and so on.</p>\n<p><strong>Map can also use objects as keys.</strong></p>\n<p>For instance:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> john <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"John\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// for every user, let's store their visits count</span>\n<span class=\"token keyword\">let</span> visitsCountMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// john is the key for the map</span>\nvisitsCountMap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">,</span> <span class=\"token number\">123</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span> visitsCountMap<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 123</span></code></pre></div>\n<p>Using objects as keys is one of most notable and important <code class=\"language-text\">Map</code> features. For string keys, <code class=\"language-text\">Object</code> can be fine, but not for object keys.</p>\n<p>Let's try:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> john <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"John\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> visitsCountObj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// try to use an object</span>\n\nvisitsCountObj<span class=\"token punctuation\">[</span>john<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">123</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// try to use john object as the key</span>\n\n\n<span class=\"token comment\">// That's what got written!</span>\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span> visitsCountObj<span class=\"token punctuation\">[</span><span class=\"token string\">\"[object Object]\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 123</span></code></pre></div>\n<p>As <code class=\"language-text\">visitsCountObj</code> is an object, it converts all keys, such as <code class=\"language-text\">john</code> to strings, so we've got the string key <code class=\"language-text\">&quot;[object Object]&quot;</code>. Definitely not what we want.</p>\n<p>To test keys for equivalence, <code class=\"language-text\">Map</code> uses the algorithm <a href=\"https://tc39.github.io/ecma262/#sec-samevaluezero\">SameValueZero</a>. It is roughly the same as strict equality <code class=\"language-text\">===</code>, but the difference is that <code class=\"language-text\">NaN</code> is considered equal to <code class=\"language-text\">NaN</code>. So <code class=\"language-text\">NaN</code> can be used as the key as well.</p>\n<p>This algorithm can't be changed or customized.</p>\n<p>Every <code class=\"language-text\">map.set</code> call returns the map itself, so we can \"chain\" the calls:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">map<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'str1'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'num1'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bool1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"iteration-over-map\"><a href=\"#iteration-over-map\" aria-label=\"iteration over map permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Iteration over Map</h2>\n<p>For looping over a <code class=\"language-text\">map</code>, there are 3 methods:</p>\n<ul>\n<li><code class=\"language-text\">map.keys()</code> -- returns an iterable for keys,</li>\n<li><code class=\"language-text\">map.values()</code> -- returns an iterable for values,</li>\n<li><code class=\"language-text\">map.entries()</code> -- returns an iterable for entries <code class=\"language-text\">[key, value]</code>, it's used by default in <code class=\"language-text\">for..of</code>.</li>\n</ul>\n<p>For instance:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> recipeMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">'cucumber'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">'tomatoes'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">350</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">'onion'</span><span class=\"token punctuation\">,</span>    <span class=\"token number\">50</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// iterate over keys (vegetables)</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> vegetable <span class=\"token keyword\">of</span> recipeMap<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>vegetable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// cucumber, tomatoes, onion</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// iterate over values (amounts)</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> amount <span class=\"token keyword\">of</span> recipeMap<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 500, 350, 50</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// iterate over [key, value] entries</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> entry <span class=\"token keyword\">of</span> recipeMap<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// the same as of recipeMap.entries()</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// cucumber,500 (and so on)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The iteration goes in the same order as the values were inserted. <code class=\"language-text\">Map</code> preserves this order, unlike a regular <code class=\"language-text\">Object</code>.</p>\n<p>Besides that, <code class=\"language-text\">Map</code> has a built-in <code class=\"language-text\">forEach</code> method, similar to <code class=\"language-text\">Array</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// runs the function for each (key, value) pair</span>\nrecipeMap<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">,</span> map</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>key<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>value<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// cucumber: 500 etc</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"objectentries-map-from-object\"><a href=\"#objectentries-map-from-object\" aria-label=\"objectentries map from object permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Object.entries: Map from Object</h2>\n<p>When a <code class=\"language-text\">Map</code> is created, we can pass an array (or another iterable) with key/value pairs for initialization, like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// array of [key, value] pairs</span>\n<span class=\"token keyword\">let</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span>  <span class=\"token string\">'str1'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>    <span class=\"token string\">'num1'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bool1'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// str1</span></code></pre></div>\n<p>If we have a plain object, and we'd like to create a <code class=\"language-text\">Map</code> from it, then we can use built-in method <a href=\"mdn:js/Object/entries\">Object.entries(obj)</a> that returns an array of key/value pairs for an object exactly in that format.</p>\n<p>So we can create a map from an object like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"John\"</span><span class=\"token punctuation\">,</span>\n  age<span class=\"token punctuation\">:</span> <span class=\"token number\">30</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">let</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// John</span></code></pre></div>\n<p>Here, <code class=\"language-text\">Object.entries</code> returns the array of key/value pairs: <code class=\"language-text\">[ [&quot;name&quot;,&quot;John&quot;], [&quot;age&quot;, 30] ]</code>. That's what <code class=\"language-text\">Map</code> needs.</p>\n<h2 id=\"objectfromentries-object-from-map\"><a href=\"#objectfromentries-object-from-map\" aria-label=\"objectfromentries object from map permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Object.fromEntries: Object from Map</h2>\n<p>We've just seen how to create <code class=\"language-text\">Map</code> from a plain object with <code class=\"language-text\">Object.entries(obj)</code>.</p>\n<p>There's <code class=\"language-text\">Object.fromEntries</code> method that does the reverse: given an array of <code class=\"language-text\">[key, value]</code> pairs, it creates an object from them:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> prices <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">fromEntries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">'banana'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">'orange'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">'meat'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// now prices = { banana: 1, orange: 2, meat: 4 }</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>prices<span class=\"token punctuation\">.</span>orange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2</span></code></pre></div>\n<p>We can use <code class=\"language-text\">Object.fromEntries</code> to get an plain object from <code class=\"language-text\">Map</code>.</p>\n<p>E.g. we store the data in a <code class=\"language-text\">Map</code>, but we need to pass it to a 3rd-party code that expects a plain object.</p>\n<p>Here we go:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'banana'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'orange'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmap<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meat'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">let</span> obj <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">fromEntries</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// make a plain object (*)</span>\n\n\n<span class=\"token comment\">// done!</span>\n<span class=\"token comment\">// obj = { banana: 1, orange: 2, meat: 4 }</span>\n\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">.</span>orange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2</span></code></pre></div>\n<p>A call to <code class=\"language-text\">map.entries()</code> returns an array of key/value pairs, exactly in the right format for <code class=\"language-text\">Object.fromEntries</code>.</p>\n<p>We could also make line <code class=\"language-text\">(*)</code> shorter:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> obj <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">fromEntries</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// omit .entries()</span></code></pre></div>\n<p>That's the same, because <code class=\"language-text\">Object.fromEntries</code> expects an iterable object as the argument. Not necessarily an array. And the standard iteration for <code class=\"language-text\">map</code> returns same key/value pairs as <code class=\"language-text\">map.entries()</code>. So we get a plain object with same key/values as the <code class=\"language-text\">map</code>.</p>\n<h2 id=\"set\"><a href=\"#set\" aria-label=\"set permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Set</h2>\n<p>A <code class=\"language-text\">Set</code> is a special type collection - \"set of values\" (without keys), where each value may occur only once.</p>\n<p>Its main methods are:</p>\n<ul>\n<li><code class=\"language-text\">new Set(iterable)</code> -- creates the set, and if an <code class=\"language-text\">iterable</code> object is provided (usually an array), copies values from it into the set.</li>\n<li><code class=\"language-text\">set.add(value)</code> -- adds a value, returns the set itself.</li>\n<li><code class=\"language-text\">set.delete(value)</code> -- removes the value, returns <code class=\"language-text\">true</code> if <code class=\"language-text\">value</code> existed at the moment of the call, otherwise <code class=\"language-text\">false</code>.</li>\n<li><code class=\"language-text\">set.has(value)</code> -- returns <code class=\"language-text\">true</code> if the value exists in the set, otherwise <code class=\"language-text\">false</code>.</li>\n<li><code class=\"language-text\">set.clear()</code> -- removes everything from the set.</li>\n<li><code class=\"language-text\">set.size</code> -- is the elements count.</li>\n</ul>\n<p>The main feature is that repeated calls of <code class=\"language-text\">set.add(value)</code> with the same value don't do anything. That's the reason why each value appears in a <code class=\"language-text\">Set</code> only once.</p>\n<p>For example, we have visitors coming, and we'd like to remember everyone. But repeated visits should not lead to duplicates. A visitor must be \"counted\" only once.</p>\n<p><code class=\"language-text\">Set</code> is just the right thing for that:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> <span class=\"token keyword\">set</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> john <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"John\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> pete <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Pete\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> mary <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Mary\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// visits, some users come multiple times</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>pete<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// set keeps only unique values</span>\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span>size <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 3</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> user <span class=\"token keyword\">of</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// John (then Pete and Mary)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The alternative to <code class=\"language-text\">Set</code> could be an array of users, and the code to check for duplicates on every insertion using <a href=\"mdn:js/Array/find\">arr.find</a>. But the performance would be much worse, because this method walks through the whole array checking every element. <code class=\"language-text\">Set</code> is much better optimized internally for uniqueness checks.</p>\n<h2 id=\"iteration-over-set\"><a href=\"#iteration-over-set\" aria-label=\"iteration over set permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Iteration over Set</h2>\n<p>We can loop over a set either with <code class=\"language-text\">for..of</code> or using <code class=\"language-text\">forEach</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> <span class=\"token keyword\">set</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"oranges\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"apples\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"bananas\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> value <span class=\"token keyword\">of</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">)</span> <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// the same with forEach:</span>\n<span class=\"token keyword\">set</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value<span class=\"token punctuation\">,</span> valueAgain<span class=\"token punctuation\">,</span> <span class=\"token keyword\">set</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Note the funny thing. The callback function passed in <code class=\"language-text\">forEach</code> has 3 arguments: a <code class=\"language-text\">value</code>, then <em>the same value</em> <code class=\"language-text\">valueAgain</code>, and then the target object. Indeed, the same value appears in the arguments twice.</p>\n<p>That's for compatibility with <code class=\"language-text\">Map</code> where the callback passed <code class=\"language-text\">forEach</code> has three arguments. Looks a bit strange, for sure. But may help to replace <code class=\"language-text\">Map</code> with <code class=\"language-text\">Set</code> in certain cases with ease, and vice versa.</p>\n<p>The same methods <code class=\"language-text\">Map</code> has for iterators are also supported:</p>\n<ul>\n<li><code class=\"language-text\">set.keys()</code> -- returns an iterable object for values,</li>\n<li><code class=\"language-text\">set.values()</code> -- same as <code class=\"language-text\">set.keys()</code>, for compatibility with <code class=\"language-text\">Map</code>,</li>\n<li><code class=\"language-text\">set.entries()</code> -- returns an iterable object for entries <code class=\"language-text\">[value, value]</code>, exists for compatibility with <code class=\"language-text\">Map</code>.</li>\n</ul>\n<h2 id=\"summary\"><a href=\"#summary\" aria-label=\"summary permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Summary</h2>\n<p><code class=\"language-text\">Map</code> -- is a collection of keyed values.</p>\n<p>Methods and properties:</p>\n<ul>\n<li><code class=\"language-text\">new Map([iterable])</code> -- creates the map, with optional <code class=\"language-text\">iterable</code> (e.g. array) of <code class=\"language-text\">[key,value]</code> pairs for initialization.</li>\n<li><code class=\"language-text\">map.set(key, value)</code> -- stores the value by the key.</li>\n<li><code class=\"language-text\">map.get(key)</code> -- returns the value by the key, <code class=\"language-text\">undefined</code> if <code class=\"language-text\">key</code> doesn't exist in map.</li>\n<li><code class=\"language-text\">map.has(key)</code> -- returns <code class=\"language-text\">true</code> if the <code class=\"language-text\">key</code> exists, <code class=\"language-text\">false</code> otherwise.</li>\n<li><code class=\"language-text\">map.delete(key)</code> -- removes the value by the key.</li>\n<li><code class=\"language-text\">map.clear()</code> -- removes everything from the map.</li>\n<li><code class=\"language-text\">map.size</code> -- returns the current element count.</li>\n</ul>\n<p>The differences from a regular <code class=\"language-text\">Object</code>:</p>\n<ul>\n<li>Any keys, objects can be keys.</li>\n<li>Additional convenient methods, the <code class=\"language-text\">size</code> property.</li>\n</ul>\n<p><code class=\"language-text\">Set</code> -- is a collection of unique values.</p>\n<p>Methods and properties:</p>\n<ul>\n<li><code class=\"language-text\">new Set([iterable])</code> -- creates the set, with optional <code class=\"language-text\">iterable</code> (e.g. array) of values for initialization.</li>\n<li><code class=\"language-text\">set.add(value)</code> -- adds a value (does nothing if <code class=\"language-text\">value</code> exists), returns the set itself.</li>\n<li><code class=\"language-text\">set.delete(value)</code> -- removes the value, returns <code class=\"language-text\">true</code> if <code class=\"language-text\">value</code> existed at the moment of the call, otherwise <code class=\"language-text\">false</code>.</li>\n<li><code class=\"language-text\">set.has(value)</code> -- returns <code class=\"language-text\">true</code> if the value exists in the set, otherwise <code class=\"language-text\">false</code>.</li>\n<li><code class=\"language-text\">set.clear()</code> -- removes everything from the set.</li>\n<li><code class=\"language-text\">set.size</code> -- is the elements count.</li>\n</ul>\n<p>Iteration over <code class=\"language-text\">Map</code> and <code class=\"language-text\">Set</code> is always in the insertion order, so we can't say that these collections are unordered, but we can't reorder elements or directly get an element by its number.</p>","timeToRead":9,"excerpt":"Map and Set Now we've learned about the following complex data structures: Objects for storing keyed collections. Arrays for storing ordered…","frontmatter":{"title":"[javascript.info] - Data Types: Map and Set","thumbnail":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAAB+0lEQVQ4y2P4eCeYbMTw4bYf2Qio2Z9sNAw1vwcjBPcWCJFj87ubwOD1/3QXpP/dTWJshlkFtP/X48B3t/xfXvX78Sjw24MAiDgDVj2f7/k/veibEm9RmG318Y7/l/sBi6c5BfqZurkal+RZXTvi/eUeSD92zUDVD8/6GhkbODkZ/3kauG2Fm7KarqOjUVSYmaSsTn257U+gQ27i0nwv4NE5XxtrQy9Pk/8vg9rr7KTldbascP3/IXjXardH532BnsfpbKDmh+d8La0MPd1N/j0PXDrDWU5JNyTIbMsy128PA349CYSEGQO2gEVo9vY0AbJfX/cDel5BRVdBWdff13T/BvfvDwOwOBsYpEAnfbob8OCMr5WVoY+XCSTAfjwG+tw1LdFCTUPP3Nzw6mFvYJgzoDn4x6OAx+d9gQ57dc3P0hJkM1ARMOQvHfD6/zb4/7vgtlqQ/5fNcv7zLJAB2bVAnctnO1taGi2a5rRkhrOKml5ijAXQIcBABob84hnOR7Z4JMWayyrobl3u9vsJqmagT3atcbOwMARKyynpGJsY7FjpBowqYIBZWBrKKgIFdRVVdAsyrd7e8AN6B93ZPx8H3Dnls2qeC9Bhlw56QRIT0BdAwfULXRbPcAKGFlDlZ6yJBGj/1/sBv58GAhEwViDJEFkQaBDEGiAJAFoY9rjTFvN3AAAAAElFTkSuQmCC","width":150,"height":150,"src":"/static/0cded3a3276425911d55a2552bf361bf/4148e/javascript.png","srcSet":"/static/0cded3a3276425911d55a2552bf361bf/4148e/javascript.png 1x,\n/static/0cded3a3276425911d55a2552bf361bf/de03e/javascript.png 1.5x,\n/static/0cded3a3276425911d55a2552bf361bf/1e9e2/javascript.png 2x"}}},"slug":"map-set","date":"2020-03-23T00:00:00.000Z","categories":["Code"],"tags":["javascript.info","data-types"],"template":"post"},"fields":{"slug":"/map-set/","date":"2020-03-23T00:00:00.000Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/map-set/"}}}